import{S as h}from"./m70a804eabc7aca6a.js";import{d as g,u as C,c as S,w as p,o as k,a as i,b as K,e as $,r as u,f as q,F,g as b,j}from"./mc55b2a42316522d6.js";import{r as c,u as w}from"./m6bdda40d8bd2cf5a.js";import{n as A}from"./ma6cfd38af5d4c661.js";const O=g({__name:"Sortable",props:{options:{type:Object,default:null,required:!1},list:{type:[Array,Object],default:[],required:!0},itemKey:{type:[String,Function],default:"",required:!0},tag:{type:String,default:"div",required:!1}},emits:["choose","unchoose","start","end","add","update","sort","remove","filter","move","clone","change"],setup(f,{expose:m,emit:t}){const n=f,d=C(),l=c(!1),a=c(null),r=c(null),v=S(()=>typeof n.itemKey=="string"?o=>o[n.itemKey]:n.itemKey);return m({containerRef:a,sortable:r,isDragging:l}),p(a,o=>{o&&(r.value=new h(o,{...n.options,onChoose:e=>t("choose",e),onUnchoose:e=>t("unchoose",e),onStart:e=>{l.value=!0,t("start",e)},onEnd:e=>{setTimeout(()=>{l.value=!1,t("end",e)})},onAdd:e=>t("add",e),onUpdate:e=>t("update",e),onSort:e=>t("sort",e),onRemove:e=>t("remove",e),onFilter:e=>t("filter",e),onMove:(e,s)=>"onMoveCapture"in d?d.onMoveCapture(e,s):t("move",e,s),onClone:e=>t("clone",e),onChange:e=>t("change",e)}))}),p(()=>n.options,o=>{if(o&&(r!=null&&r.value))for(const e in o)r.value.option(e,o[e])}),k(()=>{r.value&&(r.value.destroy(),a.value=null,r.value=null)}),(o,e)=>(i(),K(j(o.$props.tag),{ref_key:"containerRef",ref:a,class:A(o.$props.class)},{default:$(()=>[u(o.$slots,"header"),(i(!0),q(F,null,b(f.list,(s,y)=>u(o.$slots,"item",{key:w(v)(s),element:s,index:y})),128)),u(o.$slots,"footer")]),_:3},8,["class"]))}});export{O as _};
