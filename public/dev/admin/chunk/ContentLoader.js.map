{"version":3,"file":"ContentLoader.js","sources":["../../../../resources/js/modules/form/forms/attrs.ts","../../../../resources/js/modules/form/components/RepeaterInput.vue","../../../../resources/js/modules/form/components/checkInput.vue","../../../../resources/js/lib/helper/array.ts","../../../../resources/js/modules/calendar/lib/calendar.ts","../../../../resources/js/modules/calendar/components/Calendar.vue","../../../../resources/js/modules/calendar/components/DateModalInput.vue","../../../../resources/js/hooks/slot-ref.ts","../../../../resources/js/modules/bootstrap/components/Popover.vue","../../../../resources/js/modules/calendar/components/DatePopoverInput.vue","../../../../resources/js/modules/calendar/components/DateInput.vue","../../../../resources/js/modules/bootstrap/controllers/modal-controller.ts","../../../../resources/js/modules/bootstrap/lib/confirm.ts","../../../../resources/js/modules/upload/components/ImageUploader.vue","../../../../resources/js/modules/upload/components/form/ImageInput.vue","../../../../resources/js/modules/upload/components/SelectFile.vue","../../../../resources/js/modules/upload/components/form/FileInput.vue","../../../../resources/js/modules/form/components/RangeInput.vue","../../../../resources/js/modules/form/components/SelectInput.vue","../../../../resources/js/modules/form/components/ToggleInput.vue","../../../../resources/js/modules/upload/components/GalleryUploader.vue","../../../../resources/js/modules/upload/components/form/GalleryInput.vue","../../../../resources/js/directives/css-vars.ts","../../../../resources/js/directives/debounce.ts","../../../../resources/js/modules/form/components/TagsInput.vue","../../../../resources/js/modules/editor/plugins/author/author-model.ts","../../../../resources/js/modules/form/components/EditableInput.vue","../../../../resources/js/modules/editor/plugins/author/Author.vue","../../../../resources/js/modules/editor/plugins/author/author.ts","../../../../resources/js/modules/editor/blocks/index.ts","../../../../resources/js/modules/editor/components/EditorInput.vue","../../../../resources/js/modules/bootstrap/components/DropdownDivider.vue","../../../../resources/js/modules/form/rules/phone.ts","../../../../resources/js/modules/form/components/PhoneInput.vue","../../../../resources/js/modules/form/rules/recaptcha.ts","../../../../resources/js/modules/form/components/RecaptchaInput.vue","../../../../resources/js/modules/form/lib/fields.ts","../../../../resources/js/modules/form/components/AttrsInput.vue","../../../../resources/js/components/ContentLoader.vue"],"sourcesContent":["import { createPrivateField } from \"@/lib/private\";\nimport { Model, DataList } from \"../lib/model\";\n\nconst [fields, setFields] = createPrivateField<Attrs, any>({});\n\nexport class Attrs extends Model {\n  static generate(fieldsList: any[], initData: DataList = {}) {\n    const model = new Attrs(initData, (self: Attrs) => {\n      setFields(self, fieldsList);\n    });\n    return model;\n  }\n\n  public beforeCreate() {\n\t\tconst fieldsList = fields(this)\n\t\tfieldsList.forEach((data: any) => {\n\t\t\tthis.createField(\n\t\t\t\tdata.name,\n\t\t\t\tdata.label,\n\t\t\t\tthis.initData?.[data.name] ?? data.defaultValue ?? \"\",\n\t\t\t)\n\t\t\tconst field = this[data.name]\n\t\t\tthis.setField(field)\n\t\t})\n\t}\n\n  get attrs() {\n\t\treturn fields(this)\n\t}\n\n  get rules(): any[] {\n    return [];\n  }\n}\n","<script setup lang=\"ts\">\nimport { Field } from \"../lib/field\";\nimport { GroupSlots } from \"./base/FieldWrapper.vue\";\nimport FieldWrapper from \"@/modules/form/components/base/FieldWrapper.vue\";\nimport { ref, onMounted } from \"vue\";\nimport Button from \"@/modules/bootstrap/components/Button.vue\";\nimport Icon from \"@/components/Icon.vue\";\nimport { mdiClose, mdiPlusThick } from \"@mdi/js\";\nimport { Attrs } from \"../forms/attrs\";\nimport AttrsInput from \"./AttrsInput.vue\";\nimport { DataList } from \"../types\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  base?: 10 | 12;\n  layout?: any[][];\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, base = 12, layout } = props;\n\nlet models: any = [];\nconst u = ref<number>(0);\n\nconst add = (data: DataList = {}) => {\n  const fields: any = [];\n  layout?.forEach((row) => {\n    row.forEach((field) => {\n      fields.push(field);\n    });\n  });\n  const model: any = Attrs.generate(\n    fields,\n    data\n  );\n  model.events.afterUpdate.listen(() => {\n    update();\n  })\n  models.push(model);\n  update();\n  u.value++;\n};\n\nconst remove = (i: number) => {\n  models.splice(i, 1);\n  models = models.filter((item) => item);\n  update();\n  u.value++;\n};\n\nconst update = () => {\n  field.update(models.map((model) => model.data));\n};\n\nconst findField = (model: any, name: string) => {\n  model.fields.find((fld) => {\n    return fld.name === name;\n  });\n  return model.fields.find((fld) => fld.name === name);\n};\n\nonMounted(() => {\n  if (Array.isArray(field.value) && field.value.length > 0) {\n    field.value.forEach((data) => {\n      add(data);\n    });\n  } else {\n    add();\n  }\n});\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <div :key=\"u\" class=\"repeater-layout d-flex flex-column gap-3\">\n        <template v-for=\"(model, v) in models\" :key=\"v\">\n          <div class=\"row\">\n            <div class=\"col-md-10\">\n              <div class=\"repeater-item d-flex flex-column gap-3\">\n                <template v-for=\"(row, i) in layout\" :key=\"i\">\n                  <div class=\"row\">\n                    <template v-for=\"(fld, c) in row\" :key=\"c\">\n                      <div :class=\"{ [`col-md-${base / row.length}`]: true }\">\n                        <AttrsInput\n                          :type=\"fld.type\"\n                          :field=\"findField(model, fld.name)\"\n                          :attributes=\"fld.attributes\"\n                          :props=\"fld.props\"\n                        />\n                        <!--<input\n                          :id=\"id\"\n                          class=\"form-control\"\n                          v-model=\"value[col]\"\n                          @input=\"update\"\n                          @focus=\"touch\"\n                          @blur=\"blur\"\n                          autocomplete=\"off\"\n                          spellcheck=\"false\"\n                          :placeholder=\"col\"\n                        />-->\n                      </div>\n                    </template>\n                  </div>\n                </template>\n              </div>\n            </div>\n            <div class=\"col-md-2\">\n              <template v-if=\"v > 0\">\n                <Button color=\"danger\" @click=\"remove(v)\">\n                  <Icon :path=\"mdiClose\" />\n                </Button>\n              </template>\n              <template v-else>\n                <Button color=\"success\" @click=\"add\">\n                  <Icon :path=\"mdiPlusThick\" />\n                </Button>\n              </template>\n            </div>\n          </div>\n        </template>\n      </div>\n    </template>\n  </FieldWrapper>\n</template>\n","<script lang=\"ts\" setup>\nimport { Field } from \"../lib/field\";\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\nimport { ref, watch } from \"vue\";\nimport Icon from '@/components/Icon.vue';\nimport { mdiClose } from \"@mdi/js\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\nexport type Item = {\n  value: any;\n  label: string;\n  deletable?: boolean;\n};\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  options: Array<Item | \"delimiter\">;\n  inline?: boolean;\n};\nconst { field, noLabel = false, options, inline = false } = defineProps<Props>();\n\nconst items = ref<any>(options);\n\nwatch(\n  () => options,\n  (newList: any) => {\n    items.value = newList;\n  },\n  {\n    deep: true,\n  }\n);\n\nconst emit = defineEmits([\"change\", \"remove\"]);\n\nconst update = (e) => {\n  let value = field.value;\n  if (!Array.isArray(value)) {\n    value = [];\n  }\n  if (!e.target.checked) {\n    const index = value.findIndex(\n      (str: string) => `${str}` === `${e.target.value}`\n    );\n    if (index >= 0) {\n      value.splice(index, 1);\n    }\n  } else {\n    value = [...new Set([...value, e.target.value])];\n  }\n  field.update(value);\n  emit(\"change\", value);\n};\n\nconst touch = (e) => {\n  field.touch(e);\n};\n\nconst blur = (e) => {\n  field.blur(e);\n};\n\nconst remove = (item: Item) => {\n  if (item.deletable) {\n    const index = items.value.findIndex(\n      (row: any) => `${row.value}` === `${item.value}`\n    );\n    if (index >= 0) {\n      items.value.splice(index, 1);\n      emit(\"remove\", item);\n    }\n  }\n};\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <div class=\"options\">\n        <template v-for=\"(item, i) in items\" :key=\"i\">\n          <template v-if=\"item === 'delimiter'\">\n            <div :class=\"{ delimiter: true, inline }\"></div>\n          </template>\n          <template v-else>\n            <div class=\"form-check\" :class=\"{ 'form-check-inline': inline }\">\n              <input\n                class=\"form-check-input\"\n                type=\"checkbox\"\n                :name=\"`${field.name}[${i}]`\"\n                :id=\"`${id}-${i}`\"\n                :value=\"item.value\"\n                v-bind=\"$attrs\"\n                @input=\"update\"\n                @focus=\"touch\"\n                @blur=\"blur\"\n                :checked=\"field?.value?.includes(item.value) ?? false\"\n              />\n              <label\n                class=\"form-check-label position-relative\"\n                :for=\"`${id}-${i}`\"\n              >\n                <div\n                  v-html=\"item.label\"\n                  :class=\"{ 'ps-3': item.deletable }\"\n                ></div>\n                <template v-if=\"item.deletable\">\n                  <Icon :path=\"mdiClose\" color=\"danger\" class=\"position-absolute top-0 start-0\" />\n                </template>\n              </label>\n            </div>\n          </template>\n        </template>\n      </div>\n    </template>\n  </FieldWrapper>\n</template>\n<style scoped lang=\"scss\">\n@import \"@scss/config/colors\";\n\n.delimiter {\n    height: 21px;\n    position: relative;\n    min-height: 1.5rem;\n    padding-left: 1.5em;\n    margin-bottom: .125rem;\n    padding-left: 1.5em;\n    margin-bottom: .125rem;\n\n    &:before {\n        content: \"\";\n        display: block;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 90%;\n        height: 1px;\n        background: $gray-3;\n        transform: translateX(-50%) translateY(-50%);\n    }\n\n    &.inline {\n        height: auto;\n        min-height: 24px;\n        width: 21px;\n        display: inline-block;\n        margin-right: 1rem;\n        top: 7px;\n\n        &:before {\n            width: 1px;\n            height: 90%;\n        }\n    }\n}\n</style>\n","export function chunk(array: Array<any>, size: number) {\n\tconst chunked_arr: any = []\n\tlet index = 0\n\twhile (index < array.length) {\n\t\tchunked_arr.push(array.slice(index, size + index))\n\t\tindex += size\n\t}\n\treturn chunked_arr\n}\n\nexport function groupBy(\n\tarray: Array<any>,\n\tname: string | ((item: any) => string),\n) {\n\treturn array.reduce((group, item) => {\n\t\tconst value = typeof name === \"function\" ? name(item) : item[name]\n\t\tgroup[value] = group[value] ?? []\n\t\tgroup[value].push(item)\n\t\treturn group\n\t}, {})\n}\n\nexport function extract(\n\tarray: Array<any>,\n\tname: string | ((item: any) => string),\n) {\n\treturn Object.values(\n\t\tarray.reduce((list, item) => {\n\t\t\tconst value = typeof name === \"function\" ? name(item) : item[name]\n\t\t\tif (!Object.hasOwn(list, value)) {\n\t\t\t\tlist[value] = item\n\t\t\t}\n\t\t\treturn list\n\t\t}, {}),\n\t)\n}\n\nexport type TreeDisplayOptions = {\n\tfilterBy?: string\n\tfilterValue?: any\n\tprefix?: string\n\tlevel?: number\n\tdelimiter?: string\n}\n\nexport function displayTree(\n\tcallback: (\n\t\titem: any,\n\t\tprefix: string,\n\t\tlevel: number,\n\t\thasChildren: boolean,\n\t) => any,\n\titems: any[],\n\t{\n\t\tfilterBy = \"parent_id\",\n\t\tfilterValue = null,\n\t\tprefix = \"\",\n\t\tlevel = 0,\n\t\tdelimiter = \"|__\",\n\t}: any,\n): any[] {\n\tlet out: any = []\n\tconst chunk = items.filter((item: any) => item[filterBy] === filterValue)\n\tchunk.forEach((item: any) => {\n\t\tconst children = displayTree(callback, items, {\n\t\t\tfilterBy,\n\t\t\tfilterValue: item.id,\n\t\t\tprefix: `${prefix}${delimiter}`,\n\t\t\tlevel: level + 1,\n\t\t\tdelimiter,\n\t\t})\n\t\tout.push(callback(item, prefix, level, children.length > 0))\n\t\tout = [...out, ...children]\n\t})\n\treturn out\n}\n","export function getDaysCount(month: number, year: number) {\n\tif (month < 0) {\n\t\tmonth = 11\n\t\tyear--\n\t} else if (month > 11) {\n\t\tmonth = 0\n\t\tyear++\n\t}\n\treturn 32 - new Date(year, month, 32).getDate()\n}\n\nexport function getFirstDay(month: number, year: number) {\n\tlet d = new Date(year, month, 1)\n\tlet i = d.getDay() - 1\n\tif (i < 0) {\n\t\ti = 6\n\t}\n\treturn i\n}\n\nexport function calculateDays(month: number, year: number, selectedDate) {\n\tconst today: Date = new Date()\n\tconst daysList: any = []\n\tconst days: number = getDaysCount(month, year)\n\tconst firstDay: number = getFirstDay(month, year)\n\tconst prevDays: number = getDaysCount(month - 1, year)\n\tlet count: number = 0\n\n\t// previous\n\tlet toStart = prevDays - firstDay\n\tfor (let i = 0; i < firstDay; i++) {\n\t\ttoStart++\n\t\tlet date = getDate(year, month, toStart, \"--\")\n\t\tdaysList.push({\n\t\t\ttext: toStart,\n\t\t\ttoday: date.toDateString() === today.toDateString(),\n\t\t\ttype: \"previous\",\n\t\t\tdate: getDateFormat(date),\n\t\t\tday: date.getDate(),\n\t\t\tactive: isActiveDate(date, selectedDate),\n\t\t})\n\t\tcount++\n\t}\n\n\t// current\n\tfor (let i = 1; i <= days; i++) {\n\t\tlet date = getDate(year, month, i)\n\t\tdaysList.push({\n\t\t\ttext: i,\n\t\t\ttoday: date.toDateString() === today.toDateString(),\n\t\t\ttype: \"current\",\n\t\t\tdate: getDateFormat(date),\n\t\t\tday: date.getDate(),\n\t\t\tactive: isActiveDate(date, selectedDate),\n\t\t})\n\t\tcount++\n\t}\n\n\t// next\n\tlet toEnd = 42 - count\n\tfor (let i = 0; i < toEnd; i++) {\n\t\tlet date = getDate(year, month, i + 1, \"++\")\n\t\tdaysList.push({\n\t\t\ttext: i + 1,\n\t\t\ttoday: date.toDateString() === today.toDateString(),\n\t\t\ttype: \"next\",\n\t\t\tdate: getDateFormat(date),\n\t\t\tday: date.getDate(),\n\t\t\tactive: isActiveDate(date, selectedDate),\n\t\t})\n\t}\n\n\treturn daysList\n}\n\nexport function getDate(\n\tyear: number,\n\tmonth: number,\n\tday: number,\n\toperation: string = \"\",\n) {\n\tif (operation === \"--\") {\n\t\tmonth--\n\t} else if (operation === \"++\") {\n\t\tmonth++\n\t}\n\tif (month < 0) {\n\t\tmonth = 11\n\t\tyear--\n\t} else if (month > 11) {\n\t\tmonth = 0\n\t\tyear++\n\t}\n\treturn new Date(year, month, day)\n}\n\nexport function getDateFormat(date: Date) {\n\treturn `${date.getFullYear()}-${(date.getMonth() + 1)\n\t\t.toString()\n\t\t.padStart(2, \"0\")}-${date.getDate().toString().padStart(2, \"0\")}`\n}\n\nexport function isActiveDate(date: Date, selectedDate) {\n\treturn (\n\t\tdate.getFullYear() === selectedDate.getFullYear() &&\n\t\tdate.getMonth() === selectedDate.getMonth() &&\n\t\tdate.getDate() === selectedDate.getDate()\n\t)\n}\n\nexport function daysToRows(array: any) {\n\tlet i: number,\n\t\tj: number,\n\t\tlist: any = [],\n\t\tchunk: number = 7\n\tfor (i = 0, j = array.length; i < j; i += chunk) {\n\t\tlist.push(array.slice(i, i + chunk))\n\t}\n\treturn list\n}\n","<script setup lang=\"ts\">\nimport { chunk } from \"@/lib/helper/array\";\nimport { computed, ref, watch } from \"vue\";\nimport { calculateDays, getDateFormat } from \"../lib/calendar\";\nimport { mdiChevronLeft, mdiChevronRight } from \"@mdi/js\";\nimport { isDark } from \"@/modules/theme\";\nimport Icon from \"@/components/Icon.vue\";\n\nconst props = defineProps({\n  date: {\n    type: [String, Object as () => Date],\n    default: () => new Date(),\n  },\n});\n\nconst emit = defineEmits([\"change\", \"done\"]);\n\nlet date = ref(\n  props.date\n    ? props.date instanceof Date\n      ? props.date\n      : new Date(props.date)\n    : new Date()\n);\nconst day = ref(date.value.getDate());\nconst month = ref(date.value.getMonth());\nconst year = ref(date.value.getFullYear());\nconst view = ref(\"dates\");\nconst centerYear = ref(year.value);\n\nwatch(\n  date,\n  (d) => {\n    emit(\"change\", getDateFormat(d as Date));\n  },\n  {\n    immediate: true,\n  }\n);\n\nwatch(year, (value) => {\n  centerYear.value = value;\n});\n\nconst setView = (name) => {\n  view.value = name;\n};\n\nconst setYear = (y) => {\n  year.value = y;\n  date.value = new Date(year.value, month.value, day.value);\n  setView(\"months\");\n};\n\nconst setMonth = (m, y) => {\n  month.value = m;\n  year.value = y;\n  date.value = new Date(year.value, month.value, day.value);\n  setView(\"dates\");\n};\n\nconst setDay = (ds) => {\n  date.value = new Date(ds);\n  day.value = date.value.getDate();\n  month.value = date.value.getMonth();\n  year.value = date.value.getFullYear();\n  emit(\"done\");\n};\n\nconst yearsMeta = computed(() => {\n  return {\n    from: centerYear.value - 7,\n    to: centerYear.value + 7,\n  };\n});\n\nconst years = computed(() => {\n  const y: any = [];\n  for (let i = yearsMeta.value.from; i <= yearsMeta.value.to; i++) {\n    y.push(i);\n  }\n  return chunk(y, 3);\n});\n\nconst monthsNames = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nconst months = computed(() => {\n  const m = monthsNames.map((v, i) => {\n    return {\n      value: i,\n      name: v,\n    };\n  });\n  return chunk(m, 3);\n});\n\nconst previous = () => {\n  if (view.value === \"years\") {\n    centerYear.value -= 15;\n  } else if (view.value === \"months\") {\n    year.value--;\n  } else if (view.value === \"dates\") {\n    month.value--;\n    if (month.value < 0) {\n      month.value = 11;\n      year.value--;\n    }\n  }\n  date.value = new Date(year.value, month.value, day.value);\n};\nconst next = () => {\n  if (view.value === \"years\") {\n    centerYear.value += 15;\n  } else if (view.value === \"months\") {\n    year.value++;\n  } else if (view.value === \"dates\") {\n    month.value++;\n    if (month.value > 11) {\n      month.value = 0;\n      year.value++;\n    }\n  }\n  date.value = new Date(year.value, month.value, day.value);\n};\n\nconst daysNames = [\"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"];\n\nconst days = computed(() => {\n  return chunk(calculateDays(month.value, year.value, date.value), 7);\n});\n</script>\n<template>\n  <div class=\"calendar-component\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <div class=\"row\">\n          <div class=\"col text-center\">\n            <Icon :path=\"mdiChevronLeft\" @click.stop.prevent=\"previous()\" />\n          </div>\n          <div class=\"col-sm-8\">\n            <div class=\"heading\">\n              <template v-if=\"view === 'years'\">\n                <strong\n                  :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\n                  >{{ yearsMeta.from }}</strong\n                >\n                -\n                <strong\n                  :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\n                  >{{ yearsMeta.to }}</strong\n                >\n              </template>\n              <template v-if=\"view === 'months'\">\n                <strong\n                  :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\n                  @click.stop.prevent=\"setView('years')\"\n                  >{{ year }}</strong\n                >\n              </template>\n              <template v-if=\"view === 'dates'\">\n                <div @click.stop.prevent=\"setView('months')\">\n                  <strong\n                    :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\n                    >{{ date.getDate().toString().padStart(2, \"0\") }}</strong\n                  >\n                  &nbsp;\n                  <strong\n                    :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\n                    >{{ monthsNames[date.getMonth()] }}</strong\n                  >\n                  &nbsp;\n                  <strong\n                    :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\n                    >{{ date.getFullYear() }}</strong\n                  >\n                </div>\n              </template>\n            </div>\n          </div>\n          <div class=\"col text-center\">\n            <Icon :path=\"mdiChevronRight\" @click.stop.prevent=\"next()\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"card-body\">\n        <div\n          class=\"view-layout view-years\"\n          :class=\"{ active: view === 'years' }\"\n        >\n          <div v-for=\"(items, i) in years\" :key=\"i\" class=\"row no-full-height\">\n            <div v-for=\"y in items\" :key=\"y\" class=\"col\">\n              <a\n                href=\"#\"\n                class=\"item year\"\n                :class=\"{ active: y === year }\"\n                @click.stop.prevent=\"setYear(y)\"\n                >{{ y }}</a\n              >\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"view-layout view-months\"\n          :class=\"{ active: view === 'months' }\"\n        >\n          <div v-for=\"(items, i) in months\" :key=\"i\" class=\"row no-full-height\">\n            <div v-for=\"m in items\" :key=\"m\" class=\"col\">\n              <a\n                href=\"#\"\n                class=\"item month\"\n                :class=\"{ active: m.value === month }\"\n                @click.stop.prevent=\"setMonth(m.value, year)\"\n                >{{ m.name }}</a\n              >\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"view-layout view-dates\"\n          :class=\"{ active: view === 'dates' }\"\n        >\n          <div class=\"row\">\n            <div v-for=\"d in daysNames\" :key=\"d\" class=\"col px-0\">\n              <div class=\"day-name\">{{ d }}</div>\n            </div>\n          </div>\n          <div v-for=\"(chunk, i) in days\" :key=\"i\" class=\"row\">\n            <div v-for=\"day in chunk\" :key=\"day.date\" class=\"col px-0\">\n              <div\n                class=\"day-date\"\n                @click.stop.prevent=\"setDay(day.date)\"\n                :class=\"{\n                  active: day.active,\n                  today: day.today,\n                  [day.type]: true,\n                }\"\n              >\n                {{ day.text }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped lang=\"scss\">\n@import \"@scss/bootstrap\";\n\n.calendar-component {\n  position: relative;\n\n  .card {\n    * {\n      user-select: none;\n    }\n\n    --bs-card-bg: #{$white};\n    @include dark {\n      --bs-card-bg: #{$gray-9};\n    }\n\n    border-radius: 0;\n    border: none;\n\n    .card-header {\n      border-radius: 0;\n      svg {\n        cursor: pointer;\n        color: $gray-9;\n        @include dark {\n          color: $gray-1;\n        }\n      }\n\n      .heading {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        min-height: 100%;\n        cursor: pointer;\n      }\n    }\n\n    .card-body {\n      position: relative;\n      padding-top: 260px;\n      overflow: hidden;\n      border-radius: 0;\n\n      .view-layout {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 0;\n        opacity: 0;\n        visibility: hidden;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        background: $white;\n        @include dark {\n          background: $gray-9;\n        }\n\n        &.active {\n          z-index: 1;\n          opacity: 1;\n          visibility: visible;\n        }\n\n        .row {\n          min-width: 100%;\n          margin-bottom: 10px;\n\n          &:last-child {\n            margin: 0;\n          }\n\n          .item {\n            position: relative;\n            text-decoration: none;\n            color: dark;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            min-height: 40px;\n            padding: 0 10px;\n            cursor: pointer;\n            border-radius: 10px;\n\n            &:hover,\n            &.active {\n              background: $gray-2;\n              color: $black;\n              @include dark {\n                background: $gray-8;\n                color: $white;\n              }\n            }\n          }\n\n          .day-name {\n            position: relative;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            min-height: 40px;\n            padding: 0 10px;\n            color: $black;\n            border-bottom: 1px solid $gray-2;\n            @include dark {\n              color: $white;\n              border-bottom: 1px solid $gray-8;\n            }\n          }\n\n          .day-date {\n            position: relative;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            min-height: 36px;\n            padding: 0 10px;\n            margin: 2px;\n            cursor: pointer;\n            border-radius: 10px;\n            &,\n            * {\n              transition: all 0.25s ease;\n            }\n\n            &:hover,\n            &.active {\n              background: $gray-2;\n              color: $black;\n              @include dark {\n                background: $gray-8;\n                color: $white;\n              }\n            }\n\n            &.today {\n              &:before {\n                content: \"\";\n                display: block;\n                position: absolute;\n                bottom: 2px;\n                left: 50%;\n                transform: translateX(-50%);\n                width: 6px;\n                height: 6px;\n                border-radius: 50%;\n                background: $black;\n                @include dark {\n                  background: $white;\n                }\n              }\n            }\n\n            &.previous,\n            &.next {\n              color: $gray-3;\n              @include dark {\n                color: $gray-7;\n              }\n            }\n          }\n        }\n\n        &.view-dates {\n          .row {\n            margin: 0;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","<script lang=\"ts\" setup>\nimport { Field } from \"@/modules/form/lib/field\";\nimport { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\nimport { ref } from \"vue\";\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\nimport Calendar from \"@/modules/calendar/components/Calendar.vue\";\nimport Icon from \"@/components/Icon.vue\";\nimport { mdiDelete } from \"@mdi/js\";\nimport Button from '@/modules/bootstrap/components/Button.vue';\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  noValue?: boolean;\n  cleanable?: boolean;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, noValue = false, cleanable = false } = props;\n\nconst initValue = ref<boolean>(!noValue);\nconst calendarRef = ref<any>(null);\n\ntype Emits = {\n  open: any;\n  change: [value: null | string];\n  close: any;\n};\nconst emit = defineEmits<Emits>();\n\nconst openCalendar = () => {\n  calendarRef.value.open();\n  emit(\"open\");\n};\n\nconst setDate = (dateStr: string) => {\n  if (initValue.value) {\n    field.update(dateStr);\n    emit(\"change\", dateStr);\n  }\n  initValue.value = true;\n};\n\nconst onCloseCalendar = () => {\n  emit(\"close\", field.value);\n};\n\nconst closeCalendar = () => {\n  calendarRef.value?.close?.();\n};\n\nconst clean = () => {\n  field.update(null);\n  emit(\"change\", null);\n  closeCalendar();\n};\n\ndefineExpose({ open: openCalendar, close: closeCalendar });\n</script>\n<template>\n  <StringInput :field=\"field\" :no-label=\"noLabel\" @focus=\"openCalendar()\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n  </StringInput>\n  <Modal\n    :title=\"field.label\"\n    default-size\n    ref=\"calendarRef\"\n    @close=\"onCloseCalendar\"\n    padding=\"0\"\n  >\n    <Calendar\n      :date=\"field.value\"\n      @change=\"setDate\"\n      @done=\"closeCalendar\"\n    ></Calendar>\n    <template v-if=\"cleanable\" #buttons>\n      <Button color=\"danger\" @click=\"clean\">\n        <Icon :path=\"mdiDelete\" />Remove\n      </Button>\n    </template>\n  </Modal>\n</template>\n","import { ref, Ref } from \"vue\";\n\ntype SlotRef = [Ref<any>, (el: any) => void]\n\nexport const createSlotRef = (): SlotRef => {\n\n    const element = ref<any>(null)\n\n    const setElement = (el: any) => {\n        element.value = el\n    }\n\n    return [element, setElement];\n}\n","<script setup lang=\"ts\">\nimport { onMounted, ref, nextTick, onUnmounted } from \"vue\";\nimport { Popover } from \"bootstrap\";\nimport { createSlotRef } from \"@/hooks/slot-ref\";\nimport Button from \"@/modules/bootstrap/components/Button.vue\";\nimport { autoId } from \"@/lib/helper/strings\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ntype OffsetsFunction = ({\n  popper,\n  reference,\n  placement,\n}: any) => [number, number];\n\ntype Props = {\n  title?: string;\n  trigger?: \"hover\" | \"focus\" | \"click\" | \"manual\";\n  animation?: boolean;\n  delay?: number | any;\n  customClass?: string;\n  container?: any;\n  disabled?: boolean;\n  placement?: \"auto\" | \"top\" | \"bottom\" | \"left\" | \"right\";\n  offset?: string | OffsetsFunction | number[];\n  width?: string;\n  controller?: any;\n  padding?: string;\n};\nconst {\n  title = \"\",\n  animation = false,\n  delay = 0,\n  customClass = \"\",\n  container = false,\n  trigger = \"hover\",\n  disabled = false,\n  placement = \"auto\",\n  offset = [0, 8],\n  width = \"auto\",\n  controller = null,\n  padding = \"1rem\",\n} = defineProps<Props>();\n\nconst popover = ref<any>(null);\n\nconst [target, setTarget] = createSlotRef();\nconst [content, setContent] = createSlotRef();\nconst [template, setTemplate] = createSlotRef();\n\ntype Slots = {\n  default: (props: { element: (el: any) => void }) => void;\n  content: (props: { element: (el: any) => void }) => void;\n  template: (props: { element: (el: any) => void }) => void;\n};\n\ndefineSlots<Slots>();\n\nconst toX = ref<any>(null);\n\nconst key = autoId(\"popover\");\n\ntype Emits = {\n  open: [e: any];\n  opened: [e: any];\n  close: [e: any];\n  closed: [e: any];\n  inserted: [e: any];\n};\nconst emit = defineEmits<Emits>();\n\nconst onClose = (e) => {\n  emit(\"close\", e);\n};\n\nconst onClosed = (e) => {\n  emit(\"closed\", e);\n  if (controller) {\n    controller.removeController();\n  }\n};\n\nconst onOpen = (e) => {\n  emit(\"open\", e);\n};\n\nconst onOpened = (e) => {\n  emit(\"opened\", e);\n  const wrapper: any = document.querySelector(`.${key}`);\n  if (wrapper) {\n    wrapper.style.setProperty(\"--bs-popover-max-width\", width);\n    wrapper.style.setProperty(\"width\", width);\n    const body: any = wrapper.querySelector(\".popover-body\");\n    if (body) {\n      body.style.setProperty(\"--bs-popover-body-padding-x\", padding);\n      body.style.setProperty(\"--bs-popover-body-padding-y\", padding);\n    }\n  }\n};\n\nconst onInserted = (e) => {\n  emit(\"inserted\", e);\n};\n\nconst createPopover = () => {\n  popover.value = new Popover(target.value, {\n    title: title,\n    content: content.value,\n    trigger,\n    animation,\n    delay,\n    customClass,\n    container,\n    placement,\n    template: template.value.outerHTML,\n    offset,\n    html: true,\n  });\n  nextTick(() => {\n    target.value?.addEventListener(\"show.bs.popover\", onOpen);\n    target.value?.addEventListener(\"shown.bs.popover\", onOpened);\n    target.value?.addEventListener(\"hide.bs.popover\", onClose);\n    target.value?.addEventListener(\"hidden.bs.popover\", onClosed);\n    target.value?.addEventListener(\"inserted.bs.popover\", onInserted);\n    toX.value?.remove();\n  });\n};\n\nconst toggle = () => {\n  popover.value.toggle();\n};\nconst open = () => {\n  popover.value.show();\n};\nconst close = () => {\n  popover.value.hide();\n};\n\nconst dispose = () => {\n  target.value?.removeEventListener?.(\"hide.bs.popover\", onClose);\n  target.value?.removeEventListener?.(\"hidden.bs.popover\", onClosed);\n  target.value?.removeEventListener?.(\"show.bs.popover\", onOpen);\n  target.value?.removeEventListener?.(\"shown.bs.popover\", onOpened);\n  target.value?.addEventListener(\"inserted.bs.popover\", onInserted);\n  popover.value?.dispose?.();\n};\n\nconst disable = () => {\n  popover.value.disable();\n};\n\nconst enable = () => {\n  popover.value.enable();\n};\n\nconst updateContent = (header = null, body = null) => {\n  const conf: any = {};\n  if (header) {\n    conf[\".popover-header\"] = header;\n  }\n  if (body) {\n    conf[\".popover-body\"] = body;\n  }\n  popover.value.setContent();\n};\n\nconst toggleEnabled = () => {\n  popover.value.toggleEnabled();\n};\n\nconst update = () => {\n  popover.value.update();\n};\n\ndefineExpose({\n  open,\n  close,\n  toggle,\n  dispose,\n  disable,\n  enable,\n  updateContent,\n  toggleEnabled,\n  update,\n});\n\nonMounted(() => {\n  createPopover();\n  setTimeout(() => {\n    const root = content.value?.parentElement?.parentElement ?? null;\n    if (root) {\n      root.style.width = \"100%\";\n      root.style.maxWidth = width;\n    }\n  }, 500);\n});\n\nonUnmounted(() => {\n  dispose();\n});\n</script>\n<template>\n  <slot :element=\"setTarget\">\n    <Button :ref=\"setTarget\">{{ title }}</Button>\n  </slot>\n  <Teleport to=\"body\">\n    <div style=\"display: none\" ref=\"toX\">\n      <slot name=\"content\" :element=\"setContent\"></slot>\n      <slot name=\"template\" :element=\"setTemplate\">\n        <div\n          :class=\"{ popover: true, [`popover-${width}`]: true, [key]: true }\"\n          role=\"tooltip\"\n          :ref=\"setTemplate\"\n          :style=\"{ '--bs-popover-max-width': 'auto', width }\"\n        >\n          <div class=\"popover-arrow\"></div>\n          <h3 class=\"popover-header\"></h3>\n          <div class=\"popover-body\"></div>\n        </div>\n      </slot>\n    </div>\n  </Teleport>\n</template>\n","<script lang=\"ts\" setup>\nimport { Field } from \"@/modules/form/lib/field\";\nimport { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\nimport { ref } from \"vue\";\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\nimport Calendar from \"@/modules/calendar/components/Calendar.vue\";\nimport Icon from \"@/components/Icon.vue\";\nimport { mdiClose, mdiDelete } from \"@mdi/js\";\nimport Popover from \"@/modules/bootstrap/components/Popover.vue\";\nimport Button from \"@/modules/bootstrap/components/Button.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  noValue?: boolean;\n  cleanable?: boolean;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, noValue = false, cleanable = false } = props;\n\nconst initValue = ref<boolean>(!noValue);\nconst calendarRef = ref<any>(null);\n\ntype Emits = {\n  open: any;\n  change: [value: null | string];\n  close: any;\n};\nconst emit = defineEmits<Emits>();\n\nconst openCalendar = () => {\n  calendarRef.value.open();\n  emit(\"open\");\n};\n\nconst setDate = (dateStr: string) => {\n  if (initValue.value) {\n    field.update(dateStr);\n    emit(\"change\", dateStr);\n  }\n  initValue.value = true;\n};\n\nconst onCloseCalendar = () => {\n  emit(\"close\", field.value);\n};\n\nconst closeCalendar = () => {\n  calendarRef.value?.close?.();\n};\n\nconst clean = () => {\n  field.update(null);\n  emit(\"change\", null);\n  closeCalendar();\n};\n\ndefineExpose({ open: openCalendar, close: closeCalendar });\n</script>\n<template>\n  <Popover\n    :title=\"field.label\"\n    ref=\"calendarRef\"\n    @close=\"onCloseCalendar\"\n    trigger=\"manual\"\n    width=\"500px\"\n    padding=\"0\"\n  >\n    <template #=\"{ element }\">\n      <div :ref=\"element\">\n        <StringInput :field=\"field\" :no-label=\"noLabel\" @click=\"openCalendar\">\n          <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n            <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n          </template>\n        </StringInput>\n      </div>\n    </template>\n    <template #content=\"{ element }\">\n      <div :ref=\"element\">\n        <Calendar\n          :date=\"field.value\"\n          @change=\"setDate\"\n          @done=\"closeCalendar\"\n        ></Calendar>\n\n        <div\n          class=\"d-flex flex-horizontal gap-3 p-3 mt-3 justify-content-end border-top\"\n        >\n          <Button color=\"dark\" @click=\"closeCalendar\">\n            <Icon :path=\"mdiClose\" />Close\n          </Button>\n          <template v-if=\"cleanable\">\n            <Button color=\"danger\" @click=\"clean\">\n              <Icon :path=\"mdiDelete\" />Remove\n            </Button>\n          </template>\n        </div>\n      </div>\n    </template>\n  </Popover>\n</template>\n","<script lang=\"ts\" setup>\nimport { Field } from \"@/modules/form/lib/field\";\nimport { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\nimport { ref } from \"vue\";\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\nimport Calendar from \"@/modules/calendar/components/Calendar.vue\";\nimport Icon from \"@/components/Icon.vue\";\nimport { mdiDelete } from \"@mdi/js\";\nimport Popover from \"@/modules/bootstrap/components/Popover.vue\";\nimport DateModalInput from \"./DateModalInput.vue\";\nimport DatePopoverInput from \"./DatePopoverInput.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  noValue?: boolean;\n  cleanable?: boolean;\n  popover?: boolean;\n};\nconst props = defineProps<Props>();\n\nconst {\n  field,\n  noLabel = false,\n  noValue = false,\n  cleanable = false,\n  popover = false,\n} = props;\n\nconst initValue = ref<boolean>(!noValue);\nconst calendarRef = ref<any>(null);\n\ntype Emits = {\n  open: any;\n  change: [value: null | string];\n  close: any;\n};\nconst emit = defineEmits<Emits>();\n\nconst openCalendar = () => {\n  calendarRef.value.open();\n  emit(\"open\");\n};\n\nconst setDate = (dateStr: string) => {\n  if (initValue.value) {\n    field.update(dateStr);\n    emit(\"change\", dateStr);\n  }\n  initValue.value = true;\n};\n\nconst onCloseCalendar = () => {\n  emit(\"close\", field.value);\n};\n\nconst closeCalendar = () => {\n  calendarRef.value?.close?.();\n};\n\nconst clean = () => {\n  field.update(null);\n  emit(\"change\", null);\n  closeCalendar();\n};\n\ndefineExpose({ openCalendar, closeCalendar });\n</script>\n<template>\n  <template v-if=\"popover\">\n    <DatePopoverInput\n      ref=\"calendarRef\"\n      :field=\"field\"\n      :no-label=\"noLabel\"\n      :no-value=\"noValue\"\n      :cleanable=\"cleanable\"\n      @close=\"onCloseCalendar\"\n    ></DatePopoverInput>\n  </template>\n  <template v-else>\n    <DateModalInput\n      ref=\"calendarRef\"\n      :field=\"field\"\n      :no-label=\"noLabel\"\n      :no-value=\"noValue\"\n      :cleanable=\"cleanable\"\n      @close=\"onCloseCalendar\"\n    ></DateModalInput>\n  </template>\n</template>\n","import Modal from \"../components/Modal.vue\";\nimport type { Expose, Props, Slots } from \"../components/Modal.vue\";\nimport { createComponent } from \"@/lib/create-component\";\n\n\nexport const ModalController = createComponent<Props, Expose, Slots>(Modal)\n","import { ModalController } from \"../controllers/modal-controller\";\nimport { h } from \"vue\";\nimport { autoId } from \"@/lib/helper/strings\";\nimport Icon from \"@/components/Icon.vue\";\nimport { mdiCheckBold } from \"@mdi/js\";\nimport Button from '@/modules/bootstrap/components/Button.vue';\n\nconst createConfirm = (\n  title: string,\n  message?: string,\n  noText: string = \"No\",\n  yesText: string = \"Yes\"\n): Promise<boolean> => {\n  return new Promise(async (resolve) => {\n    const id = autoId(\"confirm\");\n    const modal = await ModalController(\n      {\n        title,\n        closeText: noText,\n        onOpened: () => {\n          document.querySelector(`#${id}`)?.addEventListener(\"click\", () => {\n            modal.close();\n            resolve(true);\n          });\n        },\n        onDismiss: () => {\n          resolve(false);\n        },\n      },\n      {\n        ...(message ? { default: () => h(\"p\", {}, message) } : {}),\n        buttons: () => [\n          h(Button, { class: [\"btn\", \"btn-primary\"], id }, [\n            h(Icon, { path: mdiCheckBold, color: 'success' }, ''),\n            yesText\n          ]),\n        ],\n      }\n    );\n    modal.open();\n  });\n};\n\nexport function confirm(title: string, message?: string): Promise<boolean> {\n  return createConfirm(title, message);\n}\n","<script setup lang=\"ts\">\nimport Crop from \"tinycrop\";\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\nimport { ref, nextTick, computed } from \"vue\";\nimport { translate } from \"@/lib/metadata\";\nimport { api } from \"@/lib/api\";\nimport { chunk } from \"@/lib/helper/array\";\nimport { dangerToast } from \"@/modules/bootstrap/lib/toast\";\nimport { confirm } from \"@/modules/bootstrap/lib/confirm\";\nimport { Fancybox } from \"@/lib/fancybox\";\nimport Icon from \"@/components/Icon.vue\";\nimport { mdiCrop, mdiDelete, mdiEye, mdiPlusThick } from \"@mdi/js\";\n\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/x-png\" | \"image/webp\" | \"image/svg+xml\";\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\ninterface Props {\n  section?: string;\n  crop?: boolean;\n  aspectRatio?: number | false | undefined;\n  accept?: Array<Accept> | Accept;\n  width?: number | null;\n  height?: number | null;\n  url?: any | null;\n  gallery?: number;\n}\n\nconst {\n  section = \"images\",\n  crop = false,\n  aspectRatio = false,\n  accept = \"image/jpeg\",\n  width = null,\n  height = null,\n  url = null,\n  gallery = -1,\n} = defineProps<Props>();\n\nconst cropperModal = ref<any>(null);\nconst cropperWrapper = ref<any>(null);\nconst cropper = ref<Crop>(null);\nconst image = ref<any>(url || null);\nconst uploading = ref<boolean>(false);\nconst dragOver = ref<boolean>(false);\n\nconst emit = defineEmits([\"image\", \"add\", \"remove\", \"done\", \"view\", \"cancel\"]);\n\nconst loadFiles = (e: any) => {\n  const files = e.target.files;\n  if (files.length > 0) {\n    loadFile(files[0]);\n  } else {\n    emit(\"cancel\");\n  }\n};\n\nconst handleDragOver = (event: DragEvent) => {\n  event.preventDefault();\n  dragOver.value = true;\n};\n\nconst handleDragLeave = (event: DragEvent) => {\n  event.preventDefault();\n  dragOver.value = false;\n};\n\nconst handleDrop = (event: DragEvent) => {\n  event.preventDefault();\n  dragOver.value = false;\n  const files = event.dataTransfer?.files ?? [];\n  if (files.length > 0) {\n    loadFile(files[0]);\n  } else {\n    emit(\"cancel\");\n  }\n};\n\nconst loadFile = (file: File) => {\n  emit(\"add\", \"file\", file);\n  const reader = new FileReader();\n  reader.onload = (e: any) => {\n    const base64 = e.target.result;\n    emit(\"add\", \"base64\", base64);\n    if (crop && ![\"image/svg+xml\"].includes(file.type)) {\n      cropImage(base64);\n    } else {\n      imageDataFromBase64(base64).then((imageData: ImageData) => {\n        uploadToServer(base64, imageData);\n      });\n    }\n  };\n  reader.onerror = () => {\n    console.error(`Error occurred reading file: ${file.name}`);\n  };\n  reader.readAsDataURL(file);\n};\n\nconst cropImage = (base64: string) => {\n  cropperModal.value?.open();\n  nextTick(() => {\n    setTimeout(() => {\n      cropper.value = Crop.create({\n        parent: cropperWrapper.value,\n        image: base64,\n        bounds: {\n          width: \"100%\",\n          height: \"auto\",\n        },\n        backgroundColors: [\"#ffffff\", \"#f3f3f3\"],\n        selection: {\n          color: \"#045892\",\n          activeColor: \"#034b7c\",\n          aspectRatio: aspectRatio,\n          minWidth: width || 200,\n          minHeight: height || 300,\n          width: width || 400,\n          height: height || 500,\n          x: 0,\n          y: 0,\n        },\n        onInit: () => {\n          console.log(\"Initial\");\n        },\n      });\n      cropper.value\n        .on(\"start\", function (region) {\n          console.log(\"Start\", region);\n        })\n        .on(\"move\", function (region) {\n          console.log(\"Move\", region);\n        })\n        .on(\"resize\", function (region) {\n          console.log(\"Resize\", region);\n        })\n        .on(\"change\", function (region) {\n          console.log(\"Change\", region);\n        })\n        .on(\"end\", function (region) {\n          console.log(\"End\", region);\n        });\n    }, 300);\n  });\n};\n\nconst saveCrop = () => {\n  if (cropper.value) {\n    const c = cropper.value?.selectionLayer?.selection?.region ?? null;\n    if (c) {\n      const type = cropper.value?.image?.src?.split(\";\")[0].split(\"/\")[1];\n      const canvas: any = document.createElement(\"canvas\");\n      canvas.width = c.right - c.left;\n      canvas.height = c.bottom - c.top;\n      const ctx: any = canvas.getContext(\"2d\");\n      ctx.drawImage(cropper.value?.image?.source, -c.left, -c.top);\n      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n      cropperModal.value?.close();\n      uploadToServer(canvas?.toDataURL(`image/${type}`) ?? null, imageData);\n    } else {\n      dangerToast(\"Something went wrong\");\n    }\n  }\n};\n\nconst imageDataFromBase64 = (base64: string): Promise<ImageData> => {\n  return new Promise((resolve) => {\n    const canvas: any = document.createElement(\"canvas\");\n    const ctx: any = canvas.getContext(\"2d\");\n    const image = new Image();\n    image.onload = function () {\n      ctx.drawImage(image, 0, 0);\n      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n      resolve(imageData);\n    };\n    image.src = base64;\n  });\n};\n\nconst swatches = (imageData: ImageData) => {\n  return Object.entries(\n    chunk([...imageData.data], 4)\n      .map(([r, g, b, a]) => `rgba(${r},${g},${b},${a})`)\n      .reduce((colors, color) => {\n        if (!Object.hasOwn(colors, color)) {\n          colors[color] = 0;\n        }\n        colors[color]++;\n        return colors;\n      }, {})\n  )\n    .filter(([color, count]: any) => count > 1)\n    .sort(([, a]: any, [, b]: any) => b - a)\n    .slice(0, 10)\n    .map(([color]) => color);\n};\n\nconst uploadToServer = (base64: string, imageData?: ImageData) => {\n  if (base64) {\n    uploading.value = true;\n    image.value = base64;\n    api()\n      .post(\"/media/image\", { section, base64 })\n      .then(({ data }: any) => {\n        data = { ...data, palette: imageData ? swatches(imageData) : [] };\n        image.value = data;\n        emit(\"image\", data);\n      })\n      .finally(() => {\n        uploading.value = false;\n        emit(\"done\", base64);\n      });\n  } else {\n    dangerToast(\"Something went wrong\");\n  }\n};\n\nconst closeCropModal = () => {\n  cropper.value = null;\n  if (cropperWrapper.value) {\n    cropperWrapper.value.innerHTML = \"\";\n  }\n};\n\nconst view = () => {\n  if (gallery !== undefined && gallery >= 0) {\n    emit(\"view\", gallery);\n  } else {\n    const fancybox = Fancybox.show([\n      {\n        src: image.value?.url ?? image.value,\n        caption:\n          typeof image.value === \"object\"\n            ? `Size: <span class=\"text-primary\">${image.value.size}</span>, Dimension: <span class=\"text-primary\">${image.value.width}x${image.value.height}</span>, Bits: <span class=\"text-primary\">${image.value.bits}</span>, Mime: <span class=\"text-primary\">${image.value.mime}</span>`\n            : undefined,\n      },\n    ]);\n    emit(\"view\", fancybox);\n  }\n};\n\nconst remove = () => {\n  confirm(\"Remove Image\").then((confirmed: boolean) => {\n    if (confirmed) {\n      image.value = null;\n      emit(\"image\", null);\n      emit(\"remove\");\n    }\n  });\n};\n\nconst addBtnHeight = computed(() => {\n  return aspectRatio ? `${200 / aspectRatio}px` : \"100px\";\n});\n\nconst gradient = computed(() => {\n  if (\n    image.value &&\n    Array.isArray(image.value.palette) &&\n    image.value.palette.length > 0\n  ) {\n    const positions = [\n      \"to top left\",\n      \"to top\",\n      \"to top right\",\n      \"to left\",\n      \"to bottom left\",\n      \"to right\",\n      \"to bottom left\",\n      \"to bottom\",\n      \"to bottom right\",\n      \"to top right\",\n    ];\n    return `${image.value.palette\n      .map(\n        (color, i) => `linear-gradient(${positions[i]},  transparent, ${color})`\n      )\n      .join(\", \")}`;\n  }\n  return \"#ffffff\";\n});\n\ndefineExpose({ image: () => image.value });\n</script>\n<template>\n  <template v-if=\"image\">\n    <div class=\"image\" :class=\"{ [image.extension]: true }\" v-bind=\"$attrs\">\n      <img :src=\"image?.url ?? image\" loading=\"lazy\" class=\"img-fluid\" />\n      <div v-if=\"uploading\" class=\"uploading\">\n        <div\n          class=\"spinner-border text-primary\"\n          role=\"status\"\n          style=\"width: 3rem; height: 3rem\"\n        >\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n      <div v-if=\"!uploading\" class=\"actions\">\n        <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"view\">\n          <Icon :path=\"mdiEye\" />\n        </button>\n        <button type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"remove\">\n          <Icon :path=\"mdiDelete\" />\n        </button>\n      </div>\n    </div>\n  </template>\n  <template v-else>\n    <label\n      class=\"media-input-wrapper\"\n      @dragover=\"handleDragOver\"\n      @dragleave=\"handleDragLeave\"\n      @drop=\"handleDrop\"\n      v-bind=\"$attrs\"\n    >\n      <template v-if=\"dragOver\">\n        <div class=\"drop-zone\">Drop an image to upload</div>\n      </template>\n      <template v-else>\n        <input\n          type=\"file\"\n          @input=\"loadFiles\"\n          class=\"file-input\"\n          :accept=\"Array.isArray(accept) ? accept.join(',') : accept\"\n        />\n        <slot name=\"add\">\n          <div class=\"add-btn\">\n            <Icon :path=\"mdiPlusThick\" />\n          </div>\n        </slot>\n      </template>\n    </label>\n  </template>\n  <Modal\n    v-if=\"crop\"\n    title=\"Crop Image\"\n    ref=\"cropperModal\"\n    size=\"xl\"\n    @close=\"closeCropModal\"\n  >\n    <div class=\"image-crop-wrapper\" ref=\"cropperWrapper\"></div>\n    <template #buttons>\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"saveCrop\">\n        <Icon :path=\"mdiCrop\" />&nbsp;{{ translate(\"Crop\") }}\n      </button>\n    </template>\n  </Modal>\n</template>\n<style scoped lang=\"scss\">\n@import \"@scss/bootstrap\";\n@import \"@scss/mixins/font-size\";\n\n.image {\n  position: relative;\n  width: 200px;\n  height: auto;\n  border-radius: 10px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background: v-bind(gradient);\n  background-blend-mode: screen;\n\n  &.svg {\n    background: $white;\n    min-height: 160px;\n\n    img {\n      scale: 0.8;\n    }\n  }\n\n  .uploading,\n  .actions {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    translate: -50% -50%;\n    width: 100%;\n    height: 100%;\n    z-index: 2;\n    background: rgba(255, 255, 255, 0.6);\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n  }\n\n  .actions {\n    gap: 10px;\n    transition: all 0.25s ease;\n    transform: translateY(100vh);\n  }\n\n  &:hover {\n    .actions {\n      transform: translateY(0);\n    }\n  }\n}\n\n.media-input-wrapper {\n  position: relative;\n  overflow: hidden;\n  display: block;\n  width: 200px;\n\n  .file-input {\n    position: absolute;\n    left: -100vw;\n  }\n\n  .add-btn {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    @include font-size(4);\n    border: 1px solid $gray-3;\n    background: $white;\n    transition: all 0.25s ease;\n    border-radius: 10px;\n    height: v-bind(addBtnHeight);\n    max-width: 200px;\n    width: 100%;\n    cursor: pointer;\n    color: $gray-7;\n    transition: all 0.25s ease;\n\n    &:hover {\n      color: $blue;\n    }\n  }\n\n  .drop-zone {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    @include font-size(1.2);\n    border: 1px solid $gray-3;\n    background: $white;\n    transition: all 0.25s ease;\n    border-radius: 10px;\n    height: v-bind(addBtnHeight);\n    max-width: 200px;\n    width: 100%;\n    cursor: pointer;\n    color: $gray-7;\n    transition: all 0.25s ease;\n    white-space: pre-wrap;\n  }\n}\n\n.image-crop-wrapper {\n  position: relative;\n  min-height: 200px;\n}\n</style>\n","<script lang=\"ts\" setup>\nimport { Field } from \"@/modules/form/lib/field\";\nimport FieldWrapper, {\n  GroupSlots,\n} from \"@/modules/form/components/base/FieldWrapper.vue\";\nimport ImageUploader from \"../ImageUploader.vue\";\n\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/x-png\" | \"image/webp\" | \"image/svg+xml\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  section?: string;\n  crop?: boolean;\n  aspectRatio?: number | false | undefined;\n  accept?: Array<Accept> | Accept;\n  width?: number | null;\n  height?: number | null;\n};\nconst props = defineProps<Props>();\n\nconst {\n  field,\n  noLabel = false,\n  section = \"images\",\n  crop = false,\n  aspectRatio = false,\n  accept = \"image/jpeg\",\n  width = null,\n  height = null,\n} = props;\n\nconst update = (image: any) => {\n  field.update(image);\n};\n\nconst touch = (type, data) => {\n  field.touch({ target: { value: data } });\n};\n\nconst blur = (base64) => {\n  field.blur({ target: { value: base64 } });\n};\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <ImageUploader\n        :accept=\"accept\"\n        :aspect-ratio=\"aspectRatio\"\n        :crop=\"crop\"\n        :height=\"height\"\n        :section=\"section\"\n        :width=\"width\"\n        :url=\"field.value ?? null\"\n        @add=\"touch\"\n        @image=\"update\"\n        @done=\"blur\"\n      >\n        <template #add>\n          <slot name=\"add\"></slot>\n        </template>\n      </ImageUploader>\n    </template>\n  </FieldWrapper>\n</template>\n","<script setup lang=\"ts\">\nimport { api } from '@/lib/api';\nimport { confirm } from '@/modules/bootstrap/lib/confirm';\nimport { dangerToast } from '@/modules/bootstrap/lib/toast';\nimport Icon from '@/components/Icon.vue';\nimport { mdiDelete, mdiEye, mdiPlusThick } from '@mdi/js';\nimport { ref } from 'vue';\n\ninterface Props {\n    section?: string,\n    accept?: Array<string> | string\n    url?: any | null\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n    section: 'files',\n    accept: \"*\",\n    url: null,\n});\n\nconst file = ref<any>(props.url || null)\nconst uploading = ref<boolean>(false)\n\nconst emit = defineEmits(['file', 'add', 'remove', 'done', 'view', 'cancel'])\n\nconst loadFiles = (e: any) => {\n    const files = e.target.files\n    if (files.length > 0) {\n        loadFile(files[0])\n    } else {\n        emit('cancel')\n    }\n}\n\nconst loadFile = (file: File) => {\n    emit('add', 'file', file)\n    const reader = new FileReader()\n    reader.onload = (e: any) => {\n        const base64 = e.target.result\n        emit('add', 'base64', base64)\n        uploadToServer(base64, file.name)\n    }\n    reader.onerror = () => {\n        console.error(`Error occurred reading file: ${file.name}`)\n    }\n    reader.readAsDataURL(file)\n}\n\nconst uploadToServer = (base64: string, name: string) => {\n    if (base64) {\n        uploading.value = true\n        file.value = base64\n        api().post('/media/file', { section: props.section, base64, name }).then(({ data }: any) => {\n            data = { ...data }\n            file.value = data\n            emit('file', data)\n        }).finally(() => {\n            uploading.value = false\n            emit('done', base64)\n        })\n    } else {\n        dangerToast('Something went wrong')\n    }\n}\n\nconst open = () => {\n    if (file.value) {\n        window.open(file.value.url, '_blank');\n    }\n}\n\nconst remove = () => {\n    confirm(\"Remove File\").then((confirmed: boolean) => {\n        if (confirmed) {\n            file.value = null\n            emit('file', null)\n            emit('remove')\n        }\n    })\n}\n</script>\n<template>\n    <div class=\"select-file-component\">\n        <template v-if=\"file\">\n            <div class=\"file-output\">\n                <div :class=\"{ icon: true, [file.extension]: true }\">\n                    <div class=\"extension\">{{ file.extension }}</div>\n                    <div class=\"mime\">{{ file.mime }}</div>\n                    <div class=\"size\">{{ file.size }}</div>\n                </div>\n                <div class=\"name\">{{ file.name }}</div>\n            </div>\n            <div v-if=\"uploading\" class=\"uploading\">\n                <div class=\"spinner-border text-primary\" role=\"status\" style=\"width: 3rem; height: 3rem;\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n            </div>\n            <div v-if=\"!uploading\" class=\"actions\">\n                <button type=\"button\" class=\"btn btn-primary btn-sm eye\" @click=\"open\">\n                    <Icon :path=\"mdiEye\" />\n                </button>\n                <button type=\"button\" class=\"btn btn-danger btn-sm bin\" @click=\"remove\">\n                    <Icon :path=\"mdiDelete\" />\n                </button>\n            </div>\n        </template>\n        <template v-else>\n            <label class=\"file-input\">\n                <input type=\"file\" @input=\"loadFiles\" class=\"file-input\"\n                    :accept=\"Array.isArray(accept) ? accept.join(',') : accept\">\n                <slot name=\"add\">\n                    <div class=\"add-btn\">\n                        <Icon :path=\"mdiPlusThick\" />\n                    </div>\n                </slot>\n            </label>\n        </template>\n    </div>\n</template>\n<style scoped lang=\"scss\">\n@import \"@scss/bootstrap\";\n@import \"@scss/mixins/font-size\";\n\n.bin {\n    background: $secondary;\n    border: 1px $secondary;\n}\n\n.eye {\n    background: $secondary;\n    border: 1px $secondary;\n}\n\n.select-file-component {\n    position: relative;\n    width: 200px;\n    padding-top: 200px;\n    background: $gray-1;\n    border: 1px solid $gray-2;\n    background: $white;\n    border-radius: 10px;\n    user-select: none;\n    overflow: hidden;\n\n    .file-input {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        display: flex;\n        flex-direction: row;\n        cursor: pointer;\n\n        input[type=file] {\n            position: absolute;\n            left: -200vw;\n        }\n\n        .add-btn {\n            flex: auto;\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            align-items: center;\n            @include font-size(5);\n        }\n    }\n\n    .file-output {\n        $color: $blue;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n\n        .icon {\n            width: 100%;\n            height: 140px;\n            position: relative;\n\n            &.pdf {\n                $color: $red-6;\n            }\n\n            background: $color;\n\n            .extension {\n                position: relative;\n                color: $white;\n                flex: auto;\n                height: 100%;\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n                @include font-size(2.5);\n            }\n\n            .size {\n                position: absolute;\n                bottom: 5px;\n                left: 5px;\n                display: flex;\n                flex-direction: row;\n                @include font-size(.7);\n                background: $white;\n                padding: 1px 5px;\n                border-radius: 5px;\n            }\n\n            .mime {\n                position: absolute;\n                bottom: 5px;\n                right: 5px;\n                display: flex;\n                flex-direction: row;\n                @include font-size(.7);\n                background: $white;\n                padding: 1px 5px;\n                border-radius: 5px;\n            }\n        }\n\n        .name {\n            flex: auto;\n            position: relative;\n            margin-top: auto;\n            white-space: wrap;\n            @include font-size(.8);\n            color: $white;\n            background: darken($color, 10%);\n            display: flex;\n            flex-direction: row;\n            flex-wrap: wrap;\n            justify-content: center;\n            align-items: center;\n            overflow-wrap: anywhere;\n            text-align: center;\n            padding: 0 10px;\n            width: 100%;\n        }\n    }\n\n    .uploading,\n    .actions {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 2;\n        background: rgba(255, 255, 255, 0.6);\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n\n    .actions {\n        gap: 10px;\n        transition: all 0.25s ease;\n        transform: translateY(100vh);\n    }\n\n    &:hover {\n        .actions {\n            transform: translateY(0);\n        }\n    }\n}\n</style>\n","<script lang=\"ts\" setup>\nimport SelectFile from \"../SelectFile.vue\";\nimport { Field } from \"@/modules/form/lib/field\";\nimport FieldWrapper, { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  section?: string;\n  accept?: Array<string> | string;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, section = \"files\", accept = \"*\" } = props;\n\nconst update = (image: any) => {\n  field.update(image);\n};\n\nconst touch = (type, data) => {\n  field.touch({ target: { value: data } });\n};\n\nconst blur = (base64) => {\n  field.blur({ target: { value: base64 } });\n};\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <SelectFile\n        :id=\"id\"\n        :accept=\"accept\"\n        :section=\"section\"\n        :url=\"field.value ?? null\"\n        @add=\"touch\"\n        @file=\"update\"\n        @done=\"blur\"\n      >\n        <template #add>\n          <slot name=\"add\"></slot>\n        </template>\n      </SelectFile>\n    </template>\n  </FieldWrapper>\n</template>\n","<script lang=\"ts\" setup>\nimport { Field } from \"../lib/field\";\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  options?: Array<string>;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, options = [] } = props;\n\nconst update = (e) => {\n  field.update(e.target.value);\n};\n\nconst touch = (e) => {\n  field.touch(e);\n};\n\nconst blur = (e) => {\n  field.blur(e);\n};\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <input\n        :id=\"id\"\n        :class=\"{ 'is-invalid': field.hasErrors }\"\n        :value=\"field.value\"\n        type=\"range\"\n        v-bind=\"$attrs\"\n        @input=\"update\"\n        @focus=\"touch\"\n        @blur=\"blur\"\n        autocomplete=\"off\"\n        spellcheck=\"false\"\n        :list=\"`list-of-${id}`\"\n      />\n      <datalist v-if=\"options.length > 0\" :id=\"`list-of-${id}`\">\n        <option\n          v-for=\"value in options\"\n          :key=\"value\"\n          :value=\"value\"\n          :label=\"`${value}`\"\n        ></option>\n      </datalist>\n    </template>\n  </FieldWrapper>\n</template>\n","<script lang=\"ts\" setup>\nimport { Field } from \"../lib/field\";\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\nimport { computed } from \"vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  options: { value: string; label: string }[];\n  prompt?: string | false;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, options, prompt = false } = props;\n\nconst update = (e) => {\n  field.update(e.target.value);\n};\n\nconst touch = (e) => {\n  field.touch(e);\n};\n\nconst blur = (e) => {\n  field.blur(e);\n};\n\nconst optionsList = computed(() => {\n  return prompt ? [{ value: \"\", label: prompt }, ...options] : options;\n});\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <select\n        :id=\"id\"\n        class=\"form-control\"\n        :class=\"{ 'is-invalid': field.hasErrors }\"\n        v-bind=\"$attrs\"\n        @input=\"update\"\n        @click=\"touch\"\n        @blur=\"blur\"\n      >\n        <option\n          v-for=\"item in optionsList\"\n          :key=\"item.value\"\n          :value=\"item.value\"\n          :selected=\"item.value === field.value\"\n        >\n          {{ item.label }}\n        </option>\n      </select>\n    </template>\n  </FieldWrapper>\n</template>\n","<script lang=\"ts\" setup>\nimport { Field } from \"../lib/field\";\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  trueValue?: string | number;\n  falseValue?: string | number;\n};\nconst props = defineProps<Props>();\n\nconst { field, trueValue = 1, falseValue = 0 } = props;\n\nconst update = (e) => {\n  field.update(e.target.checked ? trueValue : falseValue);\n};\n\nconst touch = (e) => {\n  field.touch(e);\n};\n\nconst blur = (e) => {\n  field.blur(e);\n};\n</script>\n<template>\n  <FieldWrapper :field=\"field\" no-label>\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <div class=\"form-check form-switch\">\n        <input\n          :id=\"id\"\n          class=\"form-check-input\"\n          type=\"checkbox\"\n          role=\"switch\"\n          :class=\"{ 'is-invalid': field.hasErrors }\"\n          :value=\"trueValue\"\n          v-bind=\"$attrs\"\n          @input=\"update\"\n          @focus=\"touch\"\n          @blur=\"blur\"\n          :checked=\"field.value === trueValue\"\n        />\n        <label class=\"form-check-label\" :for=\"id\">\n          <slot>{{ field.label }}</slot>\n        </label>\n      </div>\n    </template>\n  </FieldWrapper>\n</template>\n","ImageUploader\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { Fancybox } from \"@/lib/fancybox\";\nimport ImageUploader from \"./ImageUploader.vue\";\nimport SortableJS from \"sortablejs\";\nimport { Sortable } from \"sortablejs-vue3\";\nimport { autoId } from \"@/lib/helper/strings\";\n\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/webp\";\n\ninterface Props {\n  list?: any;\n  section?: string;\n  crop?: boolean;\n  aspectRatio?: number | false | undefined;\n  accept?: Array<Accept> | Accept;\n  width?: number | null;\n  height?: number | null;\n  max?: number | false;\n  direction?: \"row\" | \"column\";\n}\n\nconst {\n  list = [],\n  section = \"gallery\",\n  crop = false,\n  aspectRatio = false,\n  accept = \"image/jpeg\",\n  width = null,\n  height = null,\n  max = false,\n  direction = \"row\",\n} = defineProps<Props>();\n\nconst items = ref<any>(list || []);\nconst version = ref<number>(0);\n\nconst emit = defineEmits([\"touch\", \"blur\", \"update\", \"remove\", \"view\"]);\n\nconst update = (image: any) => {\n  items.value.push(image);\n  version.value++;\n  emit(\"update\", items.value, image);\n};\n\nconst touch = (type, data) => {\n  emit(\"touch\", items.value, type, data);\n};\n\nconst blur = (base64) => {\n  emit(\"blur\", items.value, base64);\n};\n\nconst remove = (i: number) => {\n  const image = items.value[i];\n  items.value.splice(i, 1);\n  items.value = items.value.filter((item) => item);\n  version.value++;\n  emit(\"update\", items.value, image);\n  emit(\"remove\", items.value, image);\n};\n\nconst view = (index: number) => {\n  const fancybox = Fancybox.show(\n    items.value?.map((image: any) => {\n      return {\n        src: image?.url ?? image,\n        type: \"image\",\n        caption:\n          typeof image.value === \"object\"\n            ? `Size: <span class=\"text-primary\">${image.value.size}</span>, Dimension: <span class=\"text-primary\">${image.value.width}x${image.value.height}</span>, Bits: <span class=\"text-primary\">${image.value.bits}</span>, Mime: <span class=\"text-primary\">${image.value.mime}</span>`\n            : null,\n      };\n    }),\n    {\n      startIndex: index,\n    }\n  );\n  emit(\"view\", fancybox);\n};\n\nconst options: SortableJS.SortableOptions = {\n  group: autoId(),\n};\n\nconst updated = (event: SortableJS.SortableEvent) => {\n  const { oldIndex, newIndex } = event;\n\n  const list = [...items.value];\n  const element = list.splice(oldIndex, 1).at(0);\n  list.splice(newIndex, 0, element);\n\n  items.value = [...list];\n  version.value++;\n  emit(\"update\", items.value, element);\n};\n</script>\n<template>\n  <div class=\"gallery\" :key=\"version\" v-bind=\"$attrs\">\n    <Sortable\n      :list=\"items\"\n      item-key=\"url\"\n      class=\"inner\"\n      @update=\"updated\"\n      :options=\"options\"\n    >\n      <template #item=\"{ element, index }\">\n        <div>\n          <ImageUploader\n            v-if=\"element\"\n            :accept=\"accept\"\n            :aspect-ratio=\"aspectRatio\"\n            :crop=\"crop\"\n            :height=\"height\"\n            :section=\"section\"\n            :width=\"width\"\n            :url=\"element\"\n            :gallery=\"index\"\n            @add=\"touch\"\n            @image=\"update\"\n            @done=\"blur\"\n            @remove=\"() => remove(index)\"\n            @view=\"view(index)\"\n          ></ImageUploader>\n        </div>\n      </template>\n    </Sortable>\n    <template v-if=\"!max || (max && items.length < max)\">\n      <ImageUploader\n        :accept=\"accept\"\n        :aspect-ratio=\"aspectRatio\"\n        :crop=\"crop\"\n        :height=\"height\"\n        :section=\"section\"\n        :width=\"width\"\n        @add=\"touch\"\n        @image=\"update\"\n        @done=\"blur\"\n        :class=\"{'add-item': items.length > 0}\"\n      ></ImageUploader>\n    </template>\n  </div>\n</template>\n<style lang=\"scss\">\n.gallery {\n  display: flex;\n  flex-direction: v-bind(direction);\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 10px;\n  width: 100%;\n  .add-item {\n    .add-btn {\n      height: 50px;\n    }\n  }\n  .inner {\n    display: inline-flex;\n    flex-direction: v-bind(direction);\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 10px;\n    width: 100%;\n    user-select: none;\n  }\n}\n</style>\n","<script lang=\"ts\" setup>\nimport { Field } from \"@/modules/form/lib/field\";\nimport FieldWrapper, {\n  GroupSlots,\n} from \"@/modules/form/components/base/FieldWrapper.vue\";\nimport GalleryUploader from \"../GalleryUploader.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/webp\";\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  section?: string;\n  crop?: boolean;\n  aspectRatio?: number | false | undefined;\n  accept?: Array<Accept> | Accept;\n  width?: number | null;\n  height?: number | null;\n  max?: number | false;\n  direction?: \"row\" | \"column\";\n};\nconst {\n  field,\n  noLabel = false,\n  section = \"gallery\",\n  crop = false,\n  aspectRatio = false,\n  accept = \"image/jpeg\",\n  width = null,\n  height = null,\n  max = false,\n  direction = \"row\",\n} = defineProps<Props>();\n\nconst update = (images: any, image: any) => {\n  field.update(images);\n};\n\nconst touch = (images: any, type: any, data: any) => {\n  field.touch({ target: { value: images } });\n};\n\nconst blur = (images: any, base64: any) => {\n  field.blur({ target: { value: images } });\n};\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <GalleryUploader\n        :list=\"field.value\"\n        :accept=\"accept\"\n        :aspect-ratio=\"aspectRatio\"\n        :crop=\"crop\"\n        :height=\"height\"\n        :section=\"section\"\n        :width=\"width\"\n        :max=\"max\"\n        :direction=\"direction\"\n        @add=\"touch\"\n        @update=\"update\"\n        @done=\"blur\"\n      ></GalleryUploader>\n    </template>\n  </FieldWrapper>\n</template>\n","const directive = {\n    beforeMount(el: any, binding: any, vnode: any) {\n      Object.keys(binding.value).forEach((name) => {\n        el.style.setProperty(name, binding.value[name])\n      })\n    },\n  };\n  \n  export const vCssVars = directive;\n  ","import { vue3Debounce } from \"vue-debounce\"\n\nexport const vDebounce = vue3Debounce({ lock: true });\n","<script lang=\"ts\" setup>\nimport { random } from \"@/lib/helper/numbers\";\nimport { Field } from \"../lib/field\";\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\nimport { ref, computed } from \"vue\";\nimport { api } from \"@/lib/api\";\nimport { vCssVars } from \"@/directives/css-vars\";\nimport { vDebounce } from \"@/directives/debounce\";\nimport Icon from \"@/components/Icon.vue\";\nimport { mdiClose } from \"@mdi/js\";\nimport { confirm } from \"@/modules/bootstrap/lib/confirm\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false } = props;\n\nconst colors = [\n  \"#F44336\",\n  \"#FF1744\",\n  \"#B71C1C\",\n  \"#EC407A\",\n  \"#880E4F\",\n  \"#F50057\",\n  \"#C51162\",\n  \"#AB47BC\",\n  \"#8E24AA\",\n  \"#4A148C\",\n  \"#AA00FF\",\n  \"#673AB7\",\n  \"#311B92\",\n  \"#6200EA\",\n  \"#651FFF\",\n  \"#3F51B5\",\n  \"#1A237E\",\n  \"#3D5AFE\",\n  \"#283593\",\n  \"#304FFE\",\n  \"#0097A7\",\n  \"#00838F\",\n  \"#006064\",\n  \"#00B8D4\",\n  \"#00897B\",\n  \"#00796B\",\n  \"#00695C\",\n  \"#004D40\",\n  \"#43A047\",\n  \"#388E3C\",\n  \"#1B5E20\",\n  \"#C0CA33\",\n  \"#AFB42B\",\n  \"#827717\",\n  \"#FDD835\",\n  \"#FBC02D\",\n  \"#F9A825\",\n  \"#F57F17\",\n  \"#FF6F00\",\n  \"#6D4C41\",\n  \"#5D4037\",\n  \"#3E2723\",\n];\n\nconst name = ref<string>(\"\");\nconst results = ref<any>(null);\nconst items = ref<any>(field.value);\n\nconst searchTags = (name: string) => {\n  results.value = null;\n  api()\n    .get(`/tags?filter[name][like]=${name}`)\n    .then(({ data }: any) => {\n      const ids = items.value.map((item: any) => +item.id);\n      results.value = data?.filter((tag: any) => !ids.includes(+tag.id)) ?? [];\n    });\n};\n\nconst canAdd = computed(() => {\n  return (\n    results.value?.filter?.(\n      (item: any) => item.name.toLowerCase() === name.value.toLowerCase()\n    )?.length === 0 &&\n    items.value?.filter?.(\n      (item: any) => item.name.toLowerCase() === name.value.toLowerCase()\n    )?.length === 0\n  );\n});\n\nconst selected = computed(() => {\n  return (\n    items.value?.filter?.(\n      (item: any) => item.name.toLowerCase() === name.value.toLowerCase()\n    )?.length > 0\n  );\n});\n\nconst add = () => {\n  api()\n    .post(\"/tags\", {\n      name: name.value,\n      color: colors[random(0, colors.length - 1)],\n    })\n    .then(({ data }: any) => {\n      data.name = data.name.toLowerCase();\n      select(data);\n    });\n};\n\nconst select = (item: any) => {\n  items.value.push(item);\n  name.value = \"\";\n  results.value = null;\n  field.update(items.value);\n};\n\nconst remove = async (item: any) => {\n  const ok = await confirm(`Remove \"${item.name}\" Tag`, \"Are you Sure?\");\n  if (ok) {\n    const index = items.value.findIndex((tag: any) => +tag.id === +item.id);\n    if (index >= 0) {\n      items.value.splice(index, 1);\n      field.update(items.value);\n    }\n  }\n};\n\nconst update = (e) => {\n  field.update(e.target.value);\n};\n\nconst touch = (e) => {\n  field.touch(e);\n};\n\nconst blur = (e) => {\n  field.blur(e);\n};\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <div class=\"tags\">\n        <template v-if=\"items.length > 0\">\n          <template v-for=\"tag in items\" :key=\"tag.id\">\n            <div class=\"tag\" v-css-vars=\"{ '--color': tag.color }\">\n              <span class=\"name\">{{ tag.name }}</span>\n              <a href=\"#\" @click.prevent=\"remove(tag)\" class=\"close\">\n                <Icon :path=\"mdiClose\" />\n              </a>\n            </div>\n          </template>\n        </template>\n        <div class=\"input-tags\">\n          <input\n            type=\"text\"\n            v-model=\"name\"\n            v-debounce:300ms=\"searchTags\"\n            placeholder=\"Search Tags...\"\n          />\n          <div v-if=\"name\" class=\"results\">\n            <template v-if=\"results\">\n              <template v-for=\"item in results\" :key=\"item.id\">\n                <a\n                  href=\"#\"\n                  v-css-vars=\"{ '--color': item.color }\"\n                  @click.prevent=\"select(item)\"\n                  class=\"item\"\n                  >{{ item.name }}</a\n                >\n              </template>\n              <template v-if=\"canAdd\">\n                <a href=\"#\" class=\"item new\" @click.prevent=\"add\"\n                  >Add <strong>{{ name }}</strong></a\n                >\n              </template>\n            </template>\n            <template v-if=\"selected\">\n              <div class=\"selected text-muted\">Already Selected</div>\n            </template>\n            <template v-else-if=\"name && !results\">\n              <div class=\"loader text-muted\">Loading...</div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </template>\n  </FieldWrapper>\n</template>\n<style scoped lang=\"scss\">\n@import \"@scss/config\";\n@import \"@scss/mixins/dark\";\n\n.tags {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: 5px;\n\n  .tag {\n    display: flex;\n    flex-direction: row;\n    background: var(--color);\n    color: $white;\n    border-radius: 5px;\n    padding: 5px 7px;\n    user-select: none;\n    gap: 5px;\n\n    .close {\n      color: $white;\n      transition: all 0.25s ease;\n\n      &:hover {\n        scale: 1.1;\n      }\n    }\n  }\n\n  .input-tags {\n    position: relative;\n\n    input {\n      border: none;\n      background: transparent;\n      color: $gray-8;\n      height: 100%;\n\n      @include dark {\n        color: $gray-2;\n      }\n\n      &:focus,\n      &:focus-within {\n        outline: none;\n        box-shadow: none;\n      }\n    }\n\n    .results {\n      position: absolute;\n      top: 36px;\n      white-space: nowrap;\n      min-width: 200px;\n      background: $white;\n      padding: 10px;\n      border-radius: 5px;\n      border: 1px solid $gray-2;\n      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n      display: flex;\n      flex-direction: column;\n      gap: 5px;\n      z-index: 999;\n\n      @include dark {\n        background: $gray-9;\n        border: 1px solid $gray-7;\n      }\n\n      .item {\n        text-decoration: none;\n        display: flex;\n        flex-direction: row;\n        gap: 2px;\n        color: $gray-8;\n        transition: all 0.25s ease;\n        border-radius: 5px;\n        padding: 5px 7px;\n        user-select: none;\n\n        &:not(.new) {\n          color: var(--color);\n        }\n\n        &.new {\n          color: $black;\n          @include dark {\n            color: $white;\n          }\n        }\n\n        &:hover {\n          background: $gray-1;\n          @include dark {\n            background: $gray-8;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import { Field } from \"@/modules/form/lib/field\"\nimport { Model } from \"@/modules/form/lib/model\"\nimport { RequiredRule } from \"@/modules/form/rules/required\"\n\nexport class AuthorModel extends Model {\n\n    get name (): Field {\n        return this.field('name', 'Name', this.initData?.name ?? \"\", \"The complete name of author\")\n    }\n\n    get bio (): Field {\n        return this.field('bio', 'Bio', this.initData?.bio ?? \"\")\n    }\n\n    get image (): Field {\n        return this.field('image', 'Image', this.initData?.image ?? null)\n    }\n\n\tget rules(): any[] {\n        return [\n            [[this.name], RequiredRule]\n        ]\n\t}\n}\n","<script lang=\"ts\" setup>\nimport { ref, onMounted, onUnmounted } from 'vue';\nimport { Field } from \"../lib/field\";\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false } = props;\n\nconst initValue = field.value;\n\nconst input = ref<any>(null);\n\nconst updateHtml = (html) => {\n  const regex = /<div>(.*?)<\\/div>/gm;\n\n  html = html.replace(regex, function(text, subText){\n    return `\\n${subText}`;\n  });\n\n  field.update(html);\n}\n\nconst update = (e) => {\n  updateHtml(e.target.innerHTML)\n};\n\nconst touch = (e) => {\n  field.touch(e);\n};\n\nconst blur = (e) => {\n  field.blur(e);\n};\n\nlet observer: any = null;\n\nonMounted(() => {\n  observer = new MutationObserver((mutationList, observer) => {\n    updateHtml(input.value.innerHTML)\n  });\n\n  observer.observe(input.value, {\n    subtree: true,\n    childList: true,\n    //attributes: true,\n  });\n});\n\nonUnmounted(() => observer && observer.disconnect());\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <div\n        :id=\"id\"\n        contenteditable=\"true\"\n        class=\"form-control\"\n        :class=\"{ 'is-invalid': field.hasErrors }\"\n        v-bind=\"$attrs\"\n        @input=\"update\"\n        @focus=\"touch\"\n        @blur=\"blur\"\n        autocomplete=\"off\"\n        spellcheck=\"false\"\n        v-html=\"initValue\"\n        ref=\"input\"\n      ></div>\n    </template>\n  </FieldWrapper>\n</template>\n<style scoped lang=\"scss\">\n.form-control {\n  position: relative;\n  -moz-appearance: textfield-multiline;\n  -webkit-appearance: textarea;\n  resize: none;\n  white-space: pre-wrap;\n  &:before {\n    content: attr(placeholder);\n    display: block; /* For Firefox */\n  }\n  &:focus {\n    outline: none;\n    &:before {\n      display: none;\n      content: \"\";\n    }\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { createModel } from \"@/modules/form/hooks/model\";\nimport { onUnmounted } from \"vue\";\nimport { AuthorModel } from \"./author-model\";\nimport TextInput from \"@/modules/form/components/TextInput.vue\";\nimport ImageInput from \"@/modules/upload/components/form/ImageInput.vue\";\nimport EditableInput from \"@/modules/form/components/EditableInput.vue\";\nimport { keypress } from '../../../../lib/helper/html';\n\ntype Props = {\n  data?: any;\n};\n\nconst { data = {} } = defineProps<Props>();\n\nconst [model, newModel, destroyModel] = createModel(AuthorModel);\n\nnewModel(data);\n\ndefineExpose({\n  validate: () => model.value?.validate(),\n  form: () => model.value?.data,\n  messages: () => model.value?.errors,\n});\n\nonUnmounted(() => {\n  destroyModel();\n});\n</script>\n<template>\n  <div v-if=\"model\" class=\"row py-4 m-3 border\">\n    <div class=\"col-md-6\">\n      <div>\n        <EditableInput :field=\"model.name\" @keydown.enter.stop />\n        <EditableInput :field=\"model.bio\" @keydown.enter.stop />\n      </div>\n    </div>\n    <div class=\"col-md-6\">\n      <ImageInput :field=\"model.image\" />\n    </div>\n  </div>\n</template>\n","import { App, createApp, ComponentPublicInstance } from \"vue\"\n// import \"./author.scss\"\nimport Author from \"./Author.vue\"\nimport { dangerToast } from \"@/modules/bootstrap/lib/toast\"\n\nconst icon = `<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>`\n\nexport default class author {\n    appInstance: any\n    data: any\n\n\tconstructor({ api, config, data, block }) {\n        this.data = data\n\t}\n\n\tstatic get toolbox() {\n\t\treturn {\n\t\t\ttitle: \"Author\",\n\t\t\ticon,\n\t\t}\n\t}\n\n\trender() {\n\t\tconst container: any = document.createElement(\"div\")\n        const app: App<Element> = createApp(Author, {data: this.data})\n\t\tthis.appInstance = app.mount(container)\n\t\treturn container\n\t}\n\n    async save (blockContent) {\n        const valid = await this.appInstance?.validate()\n        if (valid) {\n            return {...this.appInstance?.form()}\n        }\n        // dangerToast('Error','Invalid Form Data')\n        return {};\n\t}\n}\n","import Header from \"editorjs-header-with-alignment\";\nimport LinkTool from \"@editorjs/link\";\nimport RawTool from \"@editorjs/raw\";\nimport Quote from \"@editorjs/quote\";\nimport Embed from \"@editorjs/embed\";\nimport Checklist from \"@editorjs/checklist\";\nimport ImageTool from \"@editorjs/image\";\nimport Table from \"@editorjs/table\";\nimport Paragraph from \"editorjs-paragraph-with-alignment\";\nimport ColorPlugin from \"editorjs-text-color-plugin\";\nimport NestedList from \"@editorjs/nested-list\";\nimport Underline from \"@editorjs/underline\";\nimport TextVariantTune from \"@editorjs/text-variant-tune\";\nimport Delimiter from \"@editorjs/delimiter\";\nimport Warning from \"@editorjs/warning\";\nimport Alert from \"editorjs-alert\";\nimport { metadata } from \"@/lib/metadata\";\nimport Author from \"@/modules/editor/plugins/author/author\";\n\nconst colors = [\n  \"#F44336\",\n  \"#FFEBEE\",\n  \"#FFCDD2\",\n  \"#EF9A9A\",\n  \"#E57373\",\n  \"#EF5350\",\n  \"#E53935\",\n  \"#D32F2F\",\n  \"#C62828\",\n  \"#B71C1C\",\n  \"#FF8A80\",\n  \"#FF5252\",\n  \"#FF1744\",\n  \"#D50000\",\n  \"#FCE4EC\",\n  \"#F8BBD0\",\n  \"#F48FB1\",\n  \"#F06292\",\n  \"#EC407A\",\n  \"#E91E63\",\n  \"#D81B60\",\n  \"#C2185B\",\n  \"#AD1457\",\n  \"#880E4F\",\n  \"#FF80AB\",\n  \"#FF4081\",\n  \"#F50057\",\n  \"#C51162\",\n  \"#F3E5F5\",\n  \"#E1BEE7\",\n  \"#CE93D8\",\n  \"#BA68C8\",\n  \"#AB47BC\",\n  \"#9C27B0\",\n  \"#8E24AA\",\n  \"#7B1FA2\",\n  \"#6A1B9A\",\n  \"#4A148C\",\n  \"#EA80FC\",\n  \"#E040FB\",\n  \"#D500F9\",\n  \"#AA00FF\",\n  \"#EDE7F6\",\n  \"#D1C4E9\",\n  \"#B39DDB\",\n  \"#9575CD\",\n  \"#7E57C2\",\n  \"#673AB7\",\n  \"#5E35B1\",\n  \"#512DA8\",\n  \"#4527A0\",\n  \"#311B92\",\n  \"#B388FF\",\n  \"#7C4DFF\",\n  \"#651FFF\",\n  \"#6200EA\",\n  \"#E8EAF6\",\n  \"#C5CAE9\",\n  \"#9FA8DA\",\n  \"#7986CB\",\n  \"#5C6BC0\",\n  \"#3F51B5\",\n  \"#3949AB\",\n  \"#303F9F\",\n  \"#283593\",\n  \"#1A237E\",\n  \"#8C9EFF\",\n  \"#536DFE\",\n  \"#3D5AFE\",\n  \"#304FFE\",\n  \"#E3F2FD\",\n  \"#BBDEFB\",\n  \"#90CAF9\",\n  \"#64B5F6\",\n  \"#42A5F5\",\n  \"#2196F3\",\n  \"#1E88E5\",\n  \"#1976D2\",\n  \"#1565C0\",\n  \"#0D47A1\",\n  \"#82B1FF\",\n  \"#448AFF\",\n  \"#2979FF\",\n  \"#2962FF\",\n  \"#E1F5FE\",\n  \"#B3E5FC\",\n  \"#81D4FA\",\n  \"#4FC3F7\",\n  \"#29B6F6\",\n  \"#03A9F4\",\n  \"#039BE5\",\n  \"#0288D1\",\n  \"#0277BD\",\n  \"#01579B\",\n  \"#80D8FF\",\n  \"#40C4FF\",\n  \"#00B0FF\",\n  \"#0091EA\",\n  \"#E0F7FA\",\n  \"#B2EBF2\",\n  \"#80DEEA\",\n  \"#4DD0E1\",\n  \"#26C6DA\",\n  \"#00BCD4\",\n  \"#00ACC1\",\n  \"#0097A7\",\n  \"#00838F\",\n  \"#006064\",\n  \"#84FFFF\",\n  \"#18FFFF\",\n  \"#00E5FF\",\n  \"#00B8D4\",\n  \"#E0F2F1\",\n  \"#B2DFDB\",\n  \"#80CBC4\",\n  \"#4DB6AC\",\n  \"#26A69A\",\n  \"#009688\",\n  \"#00897B\",\n  \"#00796B\",\n  \"#00695C\",\n  \"#004D40\",\n  \"#A7FFEB\",\n  \"#64FFDA\",\n  \"#1DE9B6\",\n  \"#00BFA5\",\n  \"#E8F5E9\",\n  \"#C8E6C9\",\n  \"#A5D6A7\",\n  \"#81C784\",\n  \"#66BB6A\",\n  \"#4CAF50\",\n  \"#43A047\",\n  \"#388E3C\",\n  \"#2E7D32\",\n  \"#1B5E20\",\n  \"#B9F6CA\",\n  \"#69F0AE\",\n  \"#00E676\",\n  \"#00C853\",\n  \"#F1F8E9\",\n  \"#DCEDC8\",\n  \"#C5E1A5\",\n  \"#AED581\",\n  \"#9CCC65\",\n  \"#8BC34A\",\n  \"#7CB342\",\n  \"#689F38\",\n  \"#558B2F\",\n  \"#33691E\",\n  \"#CCFF90\",\n  \"#B2FF59\",\n  \"#76FF03\",\n  \"#64DD17\",\n  \"#F9FBE7\",\n  \"#F0F4C3\",\n  \"#E6EE9C\",\n  \"#DCE775\",\n  \"#D4E157\",\n  \"#CDDC39\",\n  \"#C0CA33\",\n  \"#AFB42B\",\n  \"#9E9D24\",\n  \"#827717\",\n  \"#F4FF81\",\n  \"#EEFF41\",\n  \"#C6FF00\",\n  \"#AEEA00\",\n  \"#FFFDE7\",\n  \"#FFF9C4\",\n  \"#FFF59D\",\n  \"#FFF176\",\n  \"#FFEE58\",\n  \"#FFEB3B\",\n  \"#FDD835\",\n  \"#FBC02D\",\n  \"#F9A825\",\n  \"#F57F17\",\n  \"#FFFF8D\",\n  \"#FFFF00\",\n  \"#FFEA00\",\n  \"#FFD600\",\n  \"#FFF8E1\",\n  \"#FFECB3\",\n  \"#FFE082\",\n  \"#FFD54F\",\n  \"#FFCA28\",\n  \"#FFC107\",\n  \"#FFB300\",\n  \"#FFA000\",\n  \"#FF8F00\",\n  \"#FF6F00\",\n  \"#FFE57F\",\n  \"#FFD740\",\n  \"#FFC400\",\n  \"#FFAB00\",\n  \"#FFF3E0\",\n  \"#FFE0B2\",\n  \"#FFCC80\",\n  \"#FFB74D\",\n  \"#FFA726\",\n  \"#FF9800\",\n  \"#FB8C00\",\n  \"#F57C00\",\n  \"#EF6C00\",\n  \"#E65100\",\n  \"#FFD180\",\n  \"#FFAB40\",\n  \"#FF9100\",\n  \"#FF6D00\",\n  \"#FBE9E7\",\n  \"#FFCCBC\",\n  \"#FFAB91\",\n  \"#FF8A65\",\n  \"#FF7043\",\n  \"#FF5722\",\n  \"#F4511E\",\n  \"#E64A19\",\n  \"#D84315\",\n  \"#BF360C\",\n  \"#FF9E80\",\n  \"#FF6E40\",\n  \"#FF3D00\",\n  \"#DD2C00\",\n  \"#EFEBE9\",\n  \"#D7CCC8\",\n  \"#BCAAA4\",\n  \"#A1887F\",\n  \"#8D6E63\",\n  \"#795548\",\n  \"#6D4C41\",\n  \"#5D4037\",\n  \"#4E342E\",\n  \"#3E2723\",\n  \"#FAFAFA\",\n  \"#F5F5F5\",\n  \"#EEEEEE\",\n  \"#E0E0E0\",\n  \"#BDBDBD\",\n  \"#9E9E9E\",\n  \"#757575\",\n  \"#616161\",\n  \"#424242\",\n  \"#212121\",\n  \"#ECEFF1\",\n  \"#CFD8DC\",\n  \"#B0BEC5\",\n  \"#90A4AE\",\n  \"#78909C\",\n  \"#607D8B\",\n  \"#546E7A\",\n  \"#455A64\",\n  \"#37474F\",\n  \"#263238\",\n  \"#000000\",\n];\n\nexport default {\n  textVariant: TextVariantTune,\n  delimiter: Delimiter,\n  header: {\n    class: Header,\n    shortcut: \"CMD+SHIFT+H\",\n    inlineToolbar: true,\n  },\n  paragraph: {\n    class: Paragraph,\n    shortcut: \"CMD+SHIFT+P\",\n    inlineToolbar: true,\n  },\n  list: {\n    class: NestedList,\n    shortcut: \"CMD+SHIFT+L\",\n    inlineToolbar: true,\n    config: {\n      defaultStyle: \"unordered\",\n    },\n  },\n  checklist: {\n    class: Checklist,\n    inlineToolbar: true,\n  },\n  // quote: {\n  //     class: Quote,\n  //     inlineToolbar: true,\n  //     shortcut: 'CMD+SHIFT+O',\n  //     config: {\n  //         quotePlaceholder: 'Enter a quote',\n  //         captionPlaceholder: 'Quote\\'s author',\n  //     },\n  // },\n  table: {\n    class: Table,\n    shortcut: \"CMD+SHIFT+T\",\n    inlineToolbar: true,\n  },\n  embed: {\n    class: Embed,\n    inlineToolbar: true,\n    config: {\n      services: {\n        youtube: true,\n        facebook: true,\n        twitter: true,\n        instagram: true,\n        pinterest: true,\n        codepen: true,\n        miro: true,\n        vimeo: true,\n        gfycat: true,\n        imgur: true,\n        vine: true,\n        aparat: true,\n        coub: true,\n        \"yandex-music-track\": true,\n        \"twitch-video\": true,\n      },\n    },\n  },\n  image: {\n    class: ImageTool,\n    config: {\n      endpoints: {\n        byFile: `${metadata()?.url?.api}/uploadImage`, // Your backend file uploader endpoint\n        byUrl: `${metadata()?.url?.api}/uploadImage`, // Your endpoint that provides uploading by Url\n      },\n    },\n  },\n  raw: RawTool,\n  warning: Warning,\n  alert: Alert,\n  linkTool: {\n    class: LinkTool,\n    config: {\n      endpoint: `${metadata()?.url?.api}/fetchUrl`,\n    },\n  },\n  underline: Underline,\n  Color: {\n    class: ColorPlugin, // if load from CDN, please try: window.ColorPlugin\n    config: {\n      colorCollections: colors,\n      defaultColor: \"#FF1300\",\n      type: \"text\",\n    },\n  },\n  Marker: {\n    class: ColorPlugin, // if load from CDN, please try: window.ColorPlugin\n    config: {\n      defaultColor: \"#FFBF00\",\n      type: \"marker\",\n    },\n  },\n  // custom blocks\n  Author: {\n    class: Author,\n    inlineToolbar: true,\n  },\n};\n","<script lang=\"ts\" setup>\nimport { Field } from \"@/modules/form/lib/field\";\nimport FieldWrapper, {\n  GroupSlots,\n} from \"@/modules/form/components/base/FieldWrapper.vue\";\nimport { onMounted, onUnmounted, ref, computed, nextTick } from \"vue\";\nimport EditorJS from \"@editorjs/editorjs\";\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\nimport EditorView from \"@/modules/editor/components/EditorView.vue\";\nimport tools from \"@/modules/editor/blocks\";\nimport { mdiEye, mdiFullscreen, mdiFullscreenExit } from \"@mdi/js\";\nimport Icon from \"@/components/Icon.vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n  field: Field;\n  noLabel?: boolean;\n  rtl?: boolean;\n  altitude?: number;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, rtl = false, altitude = 400 } = props;\n\nconst container = ref<any>(null);\nconst element = ref<any>(null);\nconst previewModal = ref<any>(null);\nconst editor = ref<EditorJS | null>(null);\nconst fullscreen = ref<boolean>(false);\nconst content = ref<any>(null);\n\nconst height = computed(() => `${altitude}px`);\n\nconst preview = () => {\n  content.value = field.value;\n  nextTick(() => {\n    previewModal.value?.open();\n  });\n};\n\nconst previewClose = () => {\n  content.value = null;\n};\n\nconst toggleFullscreen = () => {\n  fullscreen.value = !fullscreen.value;\n};\n\nonMounted(() => {\n  editor.value = new EditorJS({\n    holder: element.value,\n    tools,\n    data: field.value,\n    i18n: {\n      direction: rtl ? \"rtl\" : \"ltr\",\n    },\n    tunes: [\"textVariant\"],\n    onChange: (api, event) => {\n      editor.value\n        ?.save()\n        ?.then((outputData) => {\n          field.update(outputData);\n        })\n        ?.catch((error) => {\n          console.log(\"Saving failed: \", error);\n        });\n    },\n  });\n});\n\nonUnmounted(() => {\n  editor.value?.destroy();\n});\n</script>\n<template>\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template #=\"{ id }\">\n      <div\n        class=\"editor-wrapper\"\n        :class=\"{ fullscreen }\"\n        v-bind=\"$attrs\"\n        ref=\"container\"\n      >\n        <div class=\"editor-js\" ref=\"element\"></div>\n        <div class=\"actions\">\n          <a href=\"#\" @click.prevent=\"preview\">\n            <Icon :path=\"mdiEye\" />\n          </a>\n          <a href=\"#\" @click.prevent=\"toggleFullscreen\">\n            <Icon :path=\"fullscreen ? mdiFullscreenExit : mdiFullscreen\" />\n          </a>\n        </div>\n      </div>\n    </template>\n  </FieldWrapper>\n  <Modal\n    v-if=\"content && content.blocks?.length > 0\"\n    ref=\"previewModal\"\n    title=\"Preview\"\n    @close=\"previewClose\"\n    size=\"xl\"\n  >\n    <EditorView :content=\"content\" :rtl=\"rtl\" />\n  </Modal>\n</template>\n<style lang=\"scss\">\n@import \"@scss/bootstrap\";\n\n.editor-wrapper {\n  position: relative;\n  border: 1px solid $gray-2;\n  border-radius: 5px;\n  height: v-bind(height);\n  overflow-y: auto;\n  overflow-x: hidden;\n  background: $white;\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n  width: 100%;\n  @include dark {\n    background: $gray-9;\n    border-color: $gray-7;\n  }\n\n  .editor-js {\n    position: relative;\n    z-index: 0;\n    flex: auto;\n  }\n\n  .actions {\n    position: sticky;\n    top: 0;\n    width: 40px;\n    min-width: 40px;\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n\n    > a {\n      text-decoration: none;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      height: 40px;\n      @include font-size(1.7);\n      color: $white;\n      background: $black;\n      transition: all 0.25s ease;\n      border-radius: 50%;\n\n      @include dark {\n        color: $black;\n        background: $white;\n      }\n\n      &:hover {\n        color: $primary;\n      }\n    }\n  }\n\n  &.fullscreen {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 9999;\n  }\n\n  .codex-editor {\n    .ce-toolbar__plus,\n    .ce-toolbar__settings-btn {\n      @include dark {\n        color: $white !important;\n      }\n      &:hover {\n        @include dark {\n          color: $black !important;\n        }\n      }\n    }\n    &.codex-editor--rtl {\n      &.codex-editor--narrow {\n        .codex-editor__redactor {\n          .ce-block {\n            .ce-block__content {\n              direction: rtl !important;\n            }\n          }\n        }\n        .ce-toolbar__actions {\n          right: -86px !important;\n          left: auto !important;\n\n          .ce-popover {\n            direction: ltr !important;\n          }\n        }\n      }\n      .tc-add-column {\n        z-index: 10 !important;\n      }\n    }\n  }\n}\n</style>\n","<template>\n    <hr class=\"dropdown-divider\">\n</template>\n","import { Rule } from \"../lib/rule\";\nimport { isValidPhoneNumber } from \"libphonenumber-js\";\n\nexport class PhoneRule extends Rule {\n  get defaultMessage(): string {\n    return \"Invalid {attribute}\";\n  }\n  validate(): Promise<boolean> {\n    return new Promise((resolve) => {\n      resolve(isValidPhoneNumber(this.field.value));\n    });\n  }\n}\n","<script setup lang=\"ts\">\nimport Dropdown from '@/modules/bootstrap/components/Dropdown.vue';\nimport { Field } from '../lib/field';\nimport FieldWrapper from './base/FieldWrapper.vue';\nimport { GroupSlots } from './base/FieldWrapper.vue';\nimport parsePhoneNumber, { getCountries, getCountryCallingCode, CountryCode } from 'libphonenumber-js'\nimport { computed, ref } from 'vue';\nimport { language } from '@/lib/metadata';\nimport DropdownItem from '@/modules/bootstrap/components/DropdownItem.vue';\nimport DropdownDivider from '@/modules/bootstrap/components/DropdownDivider.vue';\nimport { PhoneRule } from '../rules/phone';\n\ndefineOptions({\n    inheritAttrs: false,\n});\n\ndefineSlots<Omit<GroupSlots, \"buttonBefore\">>();\n\ntype Props = {\n    field: Field;\n    noLabel?: boolean;\n    placeholder?: string;\n    allowedCountries?: Array<CountryCode>;\n    ignoredCountries?: Array<CountryCode>;\n    preferredCountries?: Array<CountryCode>;\n};\nconst props = defineProps<Props>();\n\nconst { field, noLabel = false, placeholder = props.field.label, allowedCountries = [], ignoredCountries = [], preferredCountries = [] } = props;\n\nfield.parent.validationRules.push(PhoneRule.assign(field));\n\nconst phoneNumber = ref<any>(parsePhoneNumber(field.value))\nconst keyword = ref<string>('')\n\nconst code = computed(() => phoneNumber.value?.country ?? \"XX\")\nconst countryCallingCode = computed(() => phoneNumber.value?.countryCallingCode ?? null)\nconst nationalNumber = computed(() => phoneNumber.value?.nationalNumber ?? null)\nconst number = computed(() => phoneNumber.value?.number ?? null)\n\nfield.events.afterUpdate.listen(() => {\n    phoneNumber.value = parsePhoneNumber(field.value);\n})\n\nconst formatNational = () => phoneNumber.value.formatNational()\nconst formatInternational = () => phoneNumber.value.formatInternational()\n\nconst countries = computed(() => {\n    const getCountryNames = new Intl.DisplayNames([language()], { type: 'region' });\n    const list = getCountries().filter((code: CountryCode) => {\n        return !['IL'].includes(code) &&\n            (!allowedCountries.length || allowedCountries.includes(code)) &&\n            (!ignoredCountries.length || !ignoredCountries.includes(code)) &&\n            (!keyword.value || getCountryNames.of(code)?.toLowerCase?.()?.includes?.(keyword.value))\n    }).map((code: CountryCode) => {\n        return {\n            code,\n            name: getCountryNames.of(code),\n            callingCode: getCountryCallingCode(code),\n        }\n    })\n    if (preferredCountries.length > 0) {\n        const preferred: Array<any> = [];\n        list.forEach((value, index) => {\n            if (preferredCountries.includes(value.code)) {\n                const i = preferredCountries.findIndex((code) => code === value.code);\n                if (i >= 0) {\n                    preferred[i] = { ...value }\n                    list.splice(index, 1)\n                }\n            }\n        })\n        return [...preferred, ...(list.length > 0 && preferred.length > 0 ? ['--'] : []), ...list].filter(value => value)\n    }\n    return list;\n})\n\nconst changeCountry = (country: any) => {\n    field.touch();\n    field.update(`+${country.callingCode}${field.value.replace(`+${countryCallingCode.value}`, '')}`)\n}\n\nconst focus = (e: any) => {\n    const searchInput = e.target.parentElement.querySelector('.search-input')\n    searchInput?.focus?.()\n}\n\nconst clear = (e: any) => {\n    const searchInput = e.target.parentElement.querySelector('.search-input')\n    searchInput?.blur?.()\n    keyword.value = \"\"\n}\n\nconst update = (e) => {\n    if (e.target.value.startsWith('+')) {\n        field.update(e.target.value);\n    } else {\n        field.update(`+${countryCallingCode.value}${e.target.value}`);\n    }\n};\n\nconst touch = (e) => {\n    field.touch(e);\n};\n\nconst blur = (e) => {\n    field.blur(e);\n};\n\ndefineExpose({ code: () => code.value, countryCallingCode: () => countryCallingCode.value, nationalNumber: () => nationalNumber.value, number: () => number.value, formatNational, formatInternational })\n</script>\n<template>\n    <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\n        <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n            <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n        </template>\n        <template #buttonBefore>\n            <Dropdown div @opened=\"focus\" @closed=\"clear\">\n                <template #button>\n                    <span :class=\"{ fi: true, [`fi-${code?.toLowerCase?.()}`]: true }\"></span> {{\n                        countryCallingCode ? `+${countryCallingCode}` : \"--\" }}\n                </template>\n                <input type=\"search\" v-model=\"keyword\" class=\"form-control border-0 rounded-0 search-input mb-2\"\n                    placeholder=\"Search...\">\n                <template v-for=\"(country, index) in countries\" :key=\"country?.code ?? index\">\n                    <template v-if=\"country === '--'\">\n                        <DropdownDivider />\n                    </template>\n                    <template v-else>\n                        <DropdownItem @click=\"changeCountry(country)\"\n                            :class=\"{ 'country-item': true, active: country.code?.toLowerCase?.() === code?.toLowerCase?.() }\">\n                            <div class=\"d-flex gap-3\">\n                                <span :class=\"{ fi: true, [`fi-${country.code?.toLowerCase?.()}`]: true }\"></span>\n                                <span class=\"country\">{{ country.name }}</span>\n                                <span class=\"calling-code\">{{ `(+${country.callingCode})`.padStart(6, \"&nbsp;\") }}</span>\n                            </div>\n                        </DropdownItem>\n                    </template>\n\n                </template>\n            </Dropdown>\n        </template>\n        <template #=\"{ id }\">\n            <input :id=\"id\" class=\"form-control\" :class=\"{ 'is-invalid': field.hasErrors }\"\n                :value=\"field.value.replace(`+${countryCallingCode}`, '')\" v-bind=\"$attrs\" @input=\"update\" @focus=\"touch\"\n                @blur=\"blur\" autocomplete=\"off\" spellcheck=\"false\" :placeholder=\"placeholder\" />\n        </template>\n    </FieldWrapper>\n</template>\n<style scoped lang=\"scss\">\n@import \"@scss/bootstrap\";\n\n.country-item {\n    .calling-code {\n        position: relative;\n        margin-left: auto;\n\n        @include ar {\n            margin-left: none;\n            margin-right: auto;\n        }\n    }\n}\n</style>\n","import { Rule } from \"../lib/rule\";\n\ndeclare var window: any;\n\nexport class RecaptchaRule extends Rule {\n  public widget: any = null;\n\n  get defaultMessage(): string {\n    return \"{attribute} not verified\";\n  }\n  validate(): Promise<boolean> {\n    return new Promise((resolve) => {\n      const response = window.grecaptcha.getResponse(this.widget);\n      resolve(response);\n    });\n  }\n}\n","<script lang=\"ts\">\ndeclare var window: any;\n\nconst load = () => {\n    const url = 'https://www.google.com/recaptcha/api.js';\n    let script: any = document.querySelector(`script[src=\"${url}\"]`);\n    if (!script) {\n        script = document.createElement(\"script\");\n        script.async = true;\n        script.src = url;\n        document.head.appendChild(script);\n    }\n\n    if (typeof window.grecaptcha === 'undefined') {\n        window.grecaptcha = {};\n    }\n\n    window.grecaptcha.ready = (cb) => {\n        if (typeof window.grecaptcha === 'undefined') {\n            // window.__grecaptcha_cfg is a global variable that stores reCAPTCHA's\n            // configuration. By default, any functions listed in its 'fns' property\n            // are automatically executed when reCAPTCHA loads.\n            const c = '___grecaptcha_cfg';\n            window[c] = window[c] || {};\n            (window[c]['fns'] = window[c]['fns'] || []).push(cb);\n        } else {\n            cb();\n        }\n    }\n}\n\nload();\n</script>\n<script setup lang=\"ts\">\nimport { isDark } from '@/modules/theme';\nimport { onMounted, ref } from 'vue';\nimport { Field } from '../lib/field';\nimport { RecaptchaRule } from '../rules/recaptcha';\nimport FieldWrapper, { GroupSlots } from './base/FieldWrapper.vue';\nimport { metadata } from '../../../lib/metadata';\n\ndefineOptions({\n    inheritAttrs: false,\n});\n\ndefineSlots<GroupSlots>();\n\ntype Props = {\n    field: Field;\n};\nconst props = defineProps<Props>();\n\nconst { field } = props;\n\nconst container = ref<any>(null);\nconst recaptcha = ref<any>(null);\n\nonMounted(() => {\n    window.grecaptcha?.ready?.(() => {\n        recaptcha.value = window.grecaptcha?.render?.(container.value, {\n            sitekey: metadata()?.recaptchaSiteKey,\n            theme: isDark() ? 'dark' : 'light',\n        });\n        const rule = RecaptchaRule.assign(field);\n        field.parent.validationRules.push(rule);\n        rule.widget = recaptcha.value\n    });\n})\n\n</script>\n<template>\n    <FieldWrapper :field=\"field\" no-label>\n        <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n            <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n        </template>\n        <template #=\"{ id }\">\n            <div :id=\"id\" ref=\"container\"></div>\n        </template>\n    </FieldWrapper>\n</template>\n<style lang=\"scss\">\niframe[title=reCAPTCHA] {\n    width: 302px;\n    height: 76px;\n    border-radius: 3px;\n}\n</style>\n","import RepeaterInput from \"@/modules/form/components/RepeaterInput.vue\";\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\nimport TextInput from \"@/modules/form/components/TextInput.vue\";\nimport RadioInput from \"@/modules/form/components/RadioInput.vue\";\nimport CheckInput from \"@/modules/form/components/checkInput.vue\";\nimport DateInput from \"@/modules/calendar/components/DateInput.vue\";\nimport ImageInput from \"@/modules/upload/components/form/ImageInput.vue\";\nimport FileInput from \"@/modules/upload/components/form/FileInput.vue\";\nimport RangeInput from \"@/modules/form/components/RangeInput.vue\";\nimport SelectInput from \"@/modules/form/components/SelectInput.vue\";\nimport ToggleInput from \"@/modules/form/components/ToggleInput.vue\";\nimport GalleryInput from \"@/modules/upload/components/form/GalleryInput.vue\";\nimport TagsInput from \"@/modules/form/components/TagsInput.vue\";\nimport EditorInput from \"@/modules/editor/components/EditorInput.vue\";\nimport PhoneInput from \"@/modules/form/components/PhoneInput.vue\";\nimport RecaptchaInput from \"../components/RecaptchaInput.vue\";\n\nexport const fields: { [name: string]: any } = {\n  string: StringInput,\n  text: TextInput,\n  radio: RadioInput,\n  checkbox: CheckInput,\n  date: DateInput,\n  image: ImageInput,\n  file: FileInput,\n  range: RangeInput,\n  select: SelectInput,\n  toggle: ToggleInput,\n  gallery: GalleryInput,\n  tags: TagsInput,\n  editor: EditorInput,\n  repeater: RepeaterInput,\n  phone: PhoneInput,\n  recaptcha: RecaptchaInput,\n};\n","<script setup lang=\"ts\">\nimport { Field } from \"../lib/field\";\nimport { computed } from \"vue\";\nimport Icon from \"@/components/Icon.vue\";\nimport * as icons from \"@mdi/js\";\nimport { GroupSlots } from \"./base/FieldWrapper.vue\";\nimport { fields } from \"../lib/fields\";\n\ntype Props = {\n  type: string;\n  field: Field;\n  attributes?: any;\n  props?: any;\n  icon?: false | string;\n};\n\nconst {\n  type,\n  field,\n  attributes = {},\n  props = {},\n  icon = false,\n} = defineProps<Props>();\n\ntype GroupAttrsSlots = Omit<GroupSlots, \"before\">;\n\ndefineSlots<GroupAttrsSlots>();\n\nconst data = computed(() => ({ ...(attributes ?? {}), ...(props ?? {}) }));\n</script>\n<template>\n  <component v-if=\"fields[type]\" :is=\"fields[type]\" :field=\"field\" v-bind=\"data\">\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\n    </template>\n    <template v-if=\"icon && Object.hasOwn(icons, icon)\" #before>\n      <Icon :path=\"icons[icon]\" />\n    </template>\n  </component>\n</template>\n","<script setup lang=\"ts\">\nimport { ref } from \"vue\";\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ntype Props = {\n  title?: string;\n};\n\nconst { title = \"Content\" } = defineProps<Props>();\n\nconst loading = ref<boolean>(false);\n\nconst start = () => {\n  loading.value = true;\n};\n\nconst stop = () => {\n  loading.value = false;\n};\n\ndefineExpose({ start, stop });\n</script>\n<template>\n  <template v-if=\"loading\">\n    <div class=\"d-flex flex-row gap-4 align-items-center\" v-bind=\"$attrs\">\n      <div class=\"spinner-border text-secondary\" role=\"status\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n      <div class=\"text-muted\">{{ title }} Loading...</div>\n    </div>\n  </template>\n  <template v-else>\n    <slot></slot>\n  </template>\n</template>\n"],"names":["fields","setFields","createPrivateField","Attrs","Model","fieldsList","initData","self","data","_a","field","noLabel","base","layout","props","models","u","ref","add","row","model","update","remove","i","item","findField","name","fld","onMounted","items","__props","watch","newList","e","value","index","str","emit","touch","blur","chunk","array","size","chunked_arr","displayTree","callback","filterBy","filterValue","prefix","level","delimiter","out","children","getDaysCount","month","year","getFirstDay","calculateDays","selectedDate","today","daysList","days","firstDay","prevDays","count","toStart","date","getDate","getDateFormat","isActiveDate","toEnd","day","operation","view","centerYear","d","setView","setYear","y","setMonth","m","setDay","ds","yearsMeta","computed","years","monthsNames","months","v","previous","next","daysNames","noValue","cleanable","initValue","calendarRef","openCalendar","setDate","dateStr","onCloseCalendar","closeCalendar","_b","clean","__expose","createSlotRef","element","el","popover","target","setTarget","content","setContent","template","setTemplate","toX","key","autoId","onClose","onClosed","onOpen","onOpened","wrapper","body","onInserted","createPopover","Popover","nextTick","_c","_d","_e","_f","toggle","open","close","dispose","_h","_g","_i","_k","_j","header","root","onUnmounted","ModalController","createComponent","Modal","createConfirm","title","message","noText","yesText","resolve","id","modal","h","Button","Icon","mdiCheckBold","confirm","cropperModal","cropperWrapper","cropper","image","uploading","dragOver","loadFiles","files","loadFile","handleDragOver","event","handleDragLeave","handleDrop","file","reader","base64","cropImage","imageDataFromBase64","imageData","uploadToServer","Crop","region","saveCrop","c","type","canvas","ctx","dangerToast","swatches","r","g","b","a","colors","color","api","closeCropModal","fancybox","Fancybox","confirmed","addBtnHeight","gradient","positions","section","crop","aspectRatio","accept","width","height","options","prompt","optionsList","trueValue","falseValue","version","updated","oldIndex","newIndex","list","images","directive","binding","vnode","vCssVars","vDebounce","vue3Debounce","results","searchTags","ids","tag","canAdd","selected","random","select","AuthorModel","RequiredRule","input","updateHtml","html","regex","text","subText","observer","mutationList","newModel","destroyModel","createModel","icon","author","config","block","__publicField","container","app","createApp","Author","blockContent","tools","TextVariantTune","Delimiter","Header","Paragraph","NestedList","Checklist","Table","Embed","ImageTool","metadata","RawTool","Warning","Alert","LinkTool","Underline","ColorPlugin","rtl","altitude","previewModal","editor","fullscreen","preview","previewClose","toggleFullscreen","EditorJS","outputData","error","_sfc_render","_ctx","_cache","PhoneRule","Rule","isValidPhoneNumber","placeholder","allowedCountries","ignoredCountries","preferredCountries","phoneNumber","parsePhoneNumber","keyword","code","countryCallingCode","nationalNumber","number","formatNational","formatInternational","countries","getCountryNames","language","getCountries","getCountryCallingCode","preferred","changeCountry","country","focus","searchInput","clear","RecaptchaRule","response","load","url","script","cb","recaptcha","isDark","rule","StringInput","TextInput","RadioInput","CheckInput","DateInput","ImageInput","FileInput","RangeInput","SelectInput","ToggleInput","GalleryInput","TagsInput","EditorInput","RepeaterInput","PhoneInput","RecaptchaInput","loading"],"mappings":"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,KAAOlP,CACnB,CAEA,WAAW,SAAU,CACb,MAAA,CACN,MAAO,SACP,KAAA8O,EAAA,CAEF,CAEA,QAAS,CACF,MAAAK,EAAiB,SAAS,cAAc,KAAK,EACvCC,EAAoBC,GAAUC,GAAQ,CAAC,KAAM,KAAK,KAAK,EAC9D,YAAA,YAAcF,EAAI,MAAMD,CAAS,EAC/BA,CACR,CAEG,MAAM,KAAMI,EAAc,SAEtB,OADc,OAAMtP,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAE3B,CAAC,IAAG4F,EAAA,KAAK,cAAL,YAAAA,EAAkB,MAAM,EAGhC,EACd,CACD,CClBA,MAAM2F,GAAS,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACF,wBAEA,MAAegE,GAAA,CACb,YAAaC,GACb,UAAWC,GACX,OAAQ,CACN,MAAOC,GACP,SAAU,cACV,cAAe,EACjB,EACA,UAAW,CACT,MAAOC,GACP,SAAU,cACV,cAAe,EACjB,EACA,KAAM,CACJ,MAAOC,GACP,SAAU,cACV,cAAe,GACf,OAAQ,CACN,aAAc,WAChB,CACF,EACA,UAAW,CACT,MAAOC,GACP,cAAe,EACjB,EAUA,MAAO,CACL,MAAOC,GACP,SAAU,cACV,cAAe,EACjB,EACA,MAAO,CACL,MAAOC,GACP,cAAe,GACf,OAAQ,CACN,SAAU,CACR,QAAS,GACT,SAAU,GACV,QAAS,GACT,UAAW,GACX,UAAW,GACX,QAAS,GACT,KAAM,GACN,MAAO,GACP,OAAQ,GACR,MAAO,GACP,KAAM,GACN,OAAQ,GACR,KAAM,GACN,qBAAsB,GACtB,eAAgB,EAClB,CACF,CACF,EACA,MAAO,CACL,MAAOC,GACP,OAAQ,CACN,UAAW,CACT,OAAQ,IAAGpK,IAAA5F,GAAAiQ,GAAS,IAAT,YAAAjQ,GAAY,MAAZ,YAAA4F,GAAiB,GAAG,eAC/B,MAAO,IAAG2B,IAAAD,GAAA2I,GAAS,IAAT,YAAA3I,GAAY,MAAZ,YAAAC,GAAiB,GAAG,cAChC,CACF,CACF,EACA,IAAK2I,GACL,QAASC,GACT,MAAOC,GACP,SAAU,CACR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"}