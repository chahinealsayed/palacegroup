import{c as Q}from"../chunk/app.js";import{w as X}from"../chunk/m78c574d5c3843a3d.js";import{B as Y}from"../chunk/Button.js";import{F as Z,c as x,S as V,R as ee,M as te,a as se,b as oe}from"../chunk/RecaptchaInput.js";import{c as ae,a as J,d as le,T as ne,t as S,s as ie}from"../chunk/api.js";import{C as de}from"../chunk/CloseButton.js";import{M as re}from"../chunk/m3fc8d974e5d8216d.js";import{I as P}from"../chunk/Icon.js";import{b as ce,c as ue,d as pe,e as me,f as fe}from"../chunk/m6cd080c8112b9076.js";import{d as H,o as K,g as W,l as m,m as z,A as he,u as ve,s as R,r as o,q as g,t as L,y as F,b as _,z as G,T as _e,a as O,F as ye,B as be,C as ge,v as $e,x as ke,p as Ce}from"../chunk/mc55b2a42316522d6.js";import{r as N,u as r}from"../chunk/m6bdda40d8bd2cf5a.js";import{v as B,w as we,K as E,J as Fe}from"../chunk/ma6cfd38af5d4c661.js";import{_ as q}from"../chunk/_plugin-vue_export-helper.js";import{a as Se}from"../chunk/strings.js";import"../chunk/m21bbc25c9f3922b4.js";import"../chunk/m64d389f71fee61f4.js";import"../chunk/m14e047058b3edf4a.js";import"../chunk/ma0e3fbddd3785020.js";const Be={class:"modal-content"},Le={key:0,class:"modal-header"},Ee=["innerHTML"],Re={key:2,class:"modal-footer"},Me={class:"d-flex flex-row gap-3"},Te=H({inheritAttrs:!1,__name:"Modal",props:{title:{default:null},center:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},size:{default:null},fullscreen:{type:[Boolean,String],default:!1},backdrop:{type:[Boolean,String],default:"static"},focus:{type:Boolean,default:!1},keyboard:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noClose:{type:Boolean,default:!1},controller:{default:null},closeText:{default:"Close"},tag:{default:"div"},padding:{default:"1rem"}},emits:["close","closed","prevented","open","opened","dismiss"],setup(n,{expose:i,emit:l}){const t=N(null),c=N(null),y=e=>{l("close",e)},b=e=>{l("closed",e),n.controller&&n.controller.removeController()},f=e=>{l("prevented",e)},s=e=>{l("open",e)},u=e=>{l("opened",e)},a=e=>{l("dismiss",e)},d=()=>{var e,p,$,T,k,D,C,I,w,A;c.value=new re(t.value,{backdrop:n.backdrop,focus:n.focus,keyboard:n.keyboard}),(p=(e=t.value)==null?void 0:e.addEventListener)==null||p.call(e,"hide.bs.modal",y),(T=($=t.value)==null?void 0:$.addEventListener)==null||T.call($,"hidden.bs.modal",b),(D=(k=t.value)==null?void 0:k.addEventListener)==null||D.call(k,"hidePrevented.bs.modal",f),(I=(C=t.value)==null?void 0:C.addEventListener)==null||I.call(C,"show.bs.modal",s),(A=(w=t.value)==null?void 0:w.addEventListener)==null||A.call(w,"shown.bs.modal",u)},h=()=>{var e,p;(p=(e=c.value)==null?void 0:e.show)==null||p.call(e)},v=()=>{var e,p;(p=(e=c.value)==null?void 0:e.hide)==null||p.call(e)},M=()=>{var e,p,$,T,k,D,C,I,w,A,U,j;(p=(e=t.value)==null?void 0:e.removeEventListener)==null||p.call(e,"hide.bs.modal",y),(T=($=t.value)==null?void 0:$.removeEventListener)==null||T.call($,"hidden.bs.modal",b),(D=(k=t.value)==null?void 0:k.removeEventListener)==null||D.call(k,"hidePrevented.bs.modal",f),(I=(C=t.value)==null?void 0:C.removeEventListener)==null||I.call(C,"show.bs.modal",s),(A=(w=t.value)==null?void 0:w.removeEventListener)==null||A.call(w,"shown.bs.modal",u),(j=(U=t.value)==null?void 0:U.dispose)==null||j.call(U)};return i({open:h,close:v,dispose:M,update:()=>{var e,p;(p=(e=c.value)==null?void 0:e.handleUpdate)==null||p.call(e)}}),K(()=>{d()}),W(()=>{M()}),(e,p)=>(m(),z(_e,{to:"body"},[(m(),z(he(e.tag),ve({ref_key:"modalRef",ref:t,class:"modal fade",tabindex:"-1"},e.$attrs),{default:R(()=>[o("div",{class:B(["modal-dialog",{"modal-dialog-centered":e.center,"modal-dialog-scrollable":e.scrollable,...e.size?{[`modal-${e.size}`]:!0}:{},...e.fullscreen?{[`modal-fullscreen${typeof e.fullscreen=="string"?`-${e.fullscreen}-down`:""}`]:!0}:{}}])},[o("div",Be,[e.noHeader?F("",!0):(m(),g("div",Le,[L(e.$slots,"title",{},()=>[o("h5",{class:"modal-title",innerHTML:e.title},null,8,Ee)]),L(e.$slots,"header"),e.noClose?F("",!0):(m(),z(de,{key:0,"data-bs-dismiss":"modal","aria-label":"Close",onClick:a}))])),e.$slots.default?(m(),g("div",{key:1,class:"modal-body",style:we({"--bs-modal-padding":e.padding})},[L(e.$slots,"default")],4)):F("",!0),e.noFooter?F("",!0):(m(),g("div",Re,[o("div",Me,[e.noClose?F("",!0):(m(),z(Y,{key:0,color:"dark","data-bs-dismiss":"modal",onClick:a},{default:R(()=>[_(P,{path:r(ce)},null,8,["path"]),G(E(e.closeText),1)]),_:1})),L(e.$slots,"buttons")])]))])],2)]),_:3},16))]))}}),De=q(Te,[["__file","Modal.vue"]]),Ie=ae(De),Ae=(n,i,l="No",t="Yes")=>new Promise(async c=>{const y=Se("confirm"),b=await Ie({title:n,closeText:l,onOpened:()=>{var f;(f=document.querySelector(`#${y}`))==null||f.addEventListener("click",()=>{b.close(),c(!0)})},onDismiss:()=>{c(!1)}},{...i?{default:()=>O("p",{},i)}:{},buttons:()=>[O(Y,{class:["btn","btn-primary"],id:y},[O(P,{path:ue,color:"success"},""),t])]});b.open()});function ze(n,i){return Ae(n,i)}const Pe=n=>(be("data-v-d9bfaf26"),n=n(),ge(),n),Ne={class:"select-file-component"},Ue={class:"file-output"},Ve={class:"extension"},He={class:"mime"},qe={class:"size"},Oe={class:"name"},Ye={key:0,class:"uploading"},je=Pe(()=>o("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},[o("span",{class:"visually-hidden"},"Loading...")],-1)),Je=[je],Ke={key:1,class:"actions"},We={key:1,class:"file-input"},Ge=["accept"],Qe={class:"add-btn"},Xe=H({__name:"SelectFile",props:{section:{default:"files"},accept:{default:"*"},url:{default:null}},emits:["file","add","remove","done","view","cancel"],setup(n,{emit:i}){const l=n,t=N(l.url||null),c=N(!1),y=a=>{const d=a.target.files;d.length>0?b(d[0]):i("cancel")},b=a=>{i("add","file",a);const d=new FileReader;d.onload=h=>{const v=h.target.result;i("add","base64",v),f(v,a.name)},d.onerror=()=>{console.error(`Error occurred reading file: ${a.name}`)},d.readAsDataURL(a)},f=(a,d)=>{a?(c.value=!0,t.value=a,J().post("/media/file",{section:l.section,base64:a,name:d}).then(({data:h})=>{h={...h},t.value=h,i("file",h)}).finally(()=>{c.value=!1,i("done",a)})):le("Something went wrong")},s=()=>{t.value&&window.open(t.value.url,"_blank")},u=()=>{ze("Remove File").then(a=>{a&&(t.value=null,i("file",null),i("remove"))})};return(a,d)=>(m(),g("div",Ne,[t.value?(m(),g(ye,{key:0},[o("div",Ue,[o("div",{class:B({icon:!0,[t.value.extension]:!0})},[o("div",Ve,E(t.value.extension),1),o("div",He,E(t.value.mime),1),o("div",qe,E(t.value.size),1)],2),o("div",Oe,E(t.value.name),1)]),c.value?(m(),g("div",Ye,Je)):F("",!0),c.value?F("",!0):(m(),g("div",Ke,[o("button",{type:"button",class:"btn btn-primary btn-sm eye",onClick:s},[_(P,{path:r(pe)},null,8,["path"])]),o("button",{type:"button",class:"btn btn-danger btn-sm bin",onClick:u},[_(P,{path:r(me)},null,8,["path"])])]))],64)):(m(),g("label",We,[o("input",{type:"file",onInput:y,class:"file-input",accept:Array.isArray(a.accept)?a.accept.join(","):a.accept},null,40,Ge),L(a.$slots,"add",{},()=>[o("div",Qe,[_(P,{path:r(fe)},null,8,["path"])])],!0)]))]))}});const Ze=q(Xe,[["__scopeId","data-v-d9bfaf26"],["__file","SelectFile.vue"]]),xe=H({inheritAttrs:!1,__name:"FileInput",props:{field:{},noLabel:{type:Boolean},section:{},accept:{}},setup(n){const i=n,{field:l,noLabel:t=!1,section:c="files",accept:y="*"}=i,b=u=>{l.update(u)},f=(u,a)=>{l.touch({target:{value:a}})},s=u=>{l.blur({target:{value:u}})};return(u,a)=>(m(),z(Z,{field:r(l),"no-label":r(t)},$e({default:R(({id:d})=>[_(Ze,{id:d,accept:r(y),section:r(c),url:r(l).value??null,onAdd:f,onFile:b,onDone:s},{add:R(()=>[L(u.$slots,"add")]),_:2},1032,["id","accept","section","url"])]),_:2},[ke(u.$slots,(d,h)=>({name:h,fn:R(v=>[L(u.$slots,h,Fe(Ce({...v})))])}))]),1032,["field","no-label"]))}}),et=q(xe,[["__file","FileInput.vue"]]),tt=["onSubmit"],st={class:"row"},ot={class:"col-md-12"},at={class:"row"},lt={class:"col-md-6"},nt={class:"col-md-6"},it={class:"row"},dt={class:"col-md-12"},rt={class:"row"},ct={class:"col-md-12"},ut={key:0},pt={class:"submit-captcha pt-4"},mt={class:"recaptcha"},ft=H({__name:"RecruitmentForm",props:{redirectUrl:{default:""}},setup(n){const i=N(!1);class l extends te{get name(){var s;return this.field("name",S("Name"),((s=this.initData)==null?void 0:s.name)??"")}get email(){var s;return this.field("email",S("Email"),((s=this.initData)==null?void 0:s.email)??"")}get phone(){var s;return this.field("phone",S("Phone"),((s=this.initData)==null?void 0:s.phone)??"")}get apply(){var s;return this.field("apply",S("Applying for"),((s=this.initData)==null?void 0:s.apply)??"")}get file(){var s;return this.field("file",S("Upload Your CV"),((s=this.initData)==null?void 0:s.file)??"")}get recaptcha(){var s;return this.field("recaptcha",S("ReCaptcha"),((s=this.initData)==null?void 0:s.recaptcha)??"")}get rules(){return[[[this.name,this.apply,this.phone,this.email],se],[[this.name,this.apply,this.file,this.phone,this.email],oe]]}}const[t,c,y]=x(l),b=()=>{var f,s,u;console.log((f=t.value)==null?void 0:f.data),(u=(s=t.value)==null?void 0:s.validate())==null||u.then(a=>{var d;a&&J().post("/recruitment",((d=t.value)==null?void 0:d.data)??{}).then(({data:h})=>{var v;ie("Form Sent"),console.log((v=t.value)==null?void 0:v.data)}).catch(h=>{var v,M;(M=(v=t.value)==null?void 0:v.addRemoteErrors)==null||M.call(v,h)}).finally(()=>{})})};return K(()=>{c()}),W(()=>{y()}),(f,s)=>r(t)?(m(),g("form",{key:0,onSubmit:X(b,["prevent"]),class:"recruitment-form-vue"},[o("div",st,[o("div",ot,[_(V,{field:r(t).name,class:B("name"),placeholder:""},null,8,["field"])])]),o("div",at,[o("div",lt,[_(V,{field:r(t).phone,class:B("number"),placeholder:""},null,8,["field"])]),o("div",nt,[_(V,{field:r(t).email,class:B("mail"),placeholder:""},null,8,["field"])])]),o("div",it,[o("div",dt,[_(V,{field:r(t).apply,class:B("apply"),placeholder:""},null,8,["field"])])]),o("div",rt,[o("div",ct,[_(et,{field:r(t).file,accept:".pdf",class:B("file"),placeholder:""},null,8,["field","accept"])]),i.value?(m(),g("div",ut,[_(ne,{delay:5e3,animated:!0})])):F("",!0)]),o("div",pt,[o("div",null,[_(Y,{type:"submit",color:"primary",class:"submit","spinner-color":"light",ref:"button"},{default:R(()=>[G(E(r(S)("SEND")),1)]),_:1},512)]),o("div",mt,[_(ee,{field:r(t).recaptcha},null,8,["field"])])])],40,tt)):F("",!0)}});const ht=q(ft,[["__file","RecruitmentForm.vue"]]),vt=Q("recruitmentform",ht);vt.mount();
//# sourceMappingURL=recruitmentform.js.map
