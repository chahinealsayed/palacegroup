var j=(s,t,o)=>{if(!t.has(s))throw TypeError("Cannot "+o)};var d=(s,t,o)=>(j(s,t,"read from private field"),o?o.call(s):t.get(s)),A=(s,t,o)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,o)},L=(s,t,o,i)=>(j(s,t,"write to private field"),i?i.call(s,o):t.set(s,o),o);import{T as te}from"./m3fc8d974e5d8216d.js";import{C as se}from"./CloseButton.js";import{d as Q,w as x,c as W,l as E,q as D,r as M,t as O,D as ae,o as oe,g as re,m as F,b as ne,y as P,u as ie,T as le,j as ue,a as Y,n as de}from"./mc55b2a42316522d6.js";import{r as z}from"./m6bdda40d8bd2cf5a.js";import{v as ce,w as G,K as pe}from"./ma6cfd38af5d4c661.js";import{_ as Z}from"./_plugin-vue_export-helper.js";import{c as fe}from"./m78c574d5c3843a3d.js";import{$ as he}from"./ma0e3fbddd3785020.js";let I=null;function me(){if(!I){const s=Math.pow(2,3)+2,t=Math.pow(2,1),o=s*t*5+Math.pow(10,2),i=[78,80,101,82,102,90,91].map(r=>String.fromCharCode(o-r)).join(""),u=window[i];I=JSON.parse(window.atob(u.map((r,c)=>c>0?String.fromCharCode(u.slice(0,1).shift()-r):null).filter(r=>r!==null).join("")))}return I}let U=null;function N(){return U||(U=me()),U}let C=null;function Ke(s,...t){var o;return C||(C=(o=N())==null?void 0:o.translations),C&&(s=(C==null?void 0:C[s])??s,Array.isArray(t)&&t.forEach(i=>{s=s.replace(":?",i)})),s}const ve=["aria-valuenow","aria-valuemin","aria-valuemax"],ye=Q({__name:"Progress",props:{value:{},min:{default:0},max:{default:100},height:{default:"1rem"},color:{default:"primary"},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},stacked:{type:Boolean,default:!1}},emits:["done"],setup(s,{emit:t}){const o=z(s.value);x(()=>s.value,a=>{o.value=a});const i=W(()=>o.value*100/s.max);return x(()=>i.value,()=>{i.value>=100&&setTimeout(()=>{t("done")},500)}),(a,u)=>(E(),D("div",{class:"progress",role:"progressbar","aria-label":"Basic example","aria-valuenow":i.value,"aria-valuemin":a.min,"aria-valuemax":a.max,style:G({height:a.height,width:a.stacked?`${i.value}%`:"100%"})},[M("div",{class:ce(["progress-bar overflow-visible",{"progress-bar-striped":a.striped,"progress-bar-animated":a.animated,[`bg-${a.color}`]:!0}]),style:G({width:a.stacked?"100%":`${i.value}%`})},[O(a.$slots,"default",{percentage:i.value,progress:o.value,min:a.min,max:a.max})],6)],12,ve))}}),ge=Z(ye,[["__file","Progress.vue"]]),we={key:0,class:"toast-header"},be={class:"me-auto"},ke={key:1,class:"toast-body"},$e=Q({inheritAttrs:!1,__name:"Toast",props:{title:{type:[Boolean,String],default:!1},position:{default:"bottom-end"},color:{default:null},animated:{type:Boolean,default:!1},autohide:{type:Boolean,default:!1},delay:{default:5e3},controller:{default:null}},emits:["init","create","close","closed","open","opened"],setup(s,{expose:t,emit:o}){const i=ue();ae();const a=z(null),u=z(null),n=z(0),r=W(()=>`container-${s.position}`);o("init",i);const c=e=>{o("close",e)},v=e=>{o("closed",e),s.controller&&s.controller.removeController()},p=e=>{o("open",e)},y=e=>{ee(),o("opened",e)},J=()=>{let e=document.querySelector("#aria-polite");return e||(e=document.createElement("div"),e.setAttribute("id","aria-polite"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("position-relative"),document.body.appendChild(e)),e},R=()=>{if(!document.querySelector(`#${r.value}`)){const e=J(),l=s.position.split("-"),h=s.position==="center"?"translate-middle":l[0]==="center"?"translate-middle-y":l[1]==="center"?"translate-middle-x":null;let m=l[0];m==="center"?m="top-50":m=`${m}-0`;let f=l[1];!f||f==="center"?f="start-50":f=`${f}-0`;const g=document.createElement("div");g.setAttribute("id",r.value),g.classList.add("toast-container","position-fixed",f,m,h,"p-3"),e.appendChild(g)}},H=()=>{var e,l,h,m,f,g,w,T;u.value=new te(a.value,{animation:s.animated,autohide:!1,delay:0}),(l=(e=a.value)==null?void 0:e.addEventListener)==null||l.call(e,"hide.bs.toast",c),(m=(h=a.value)==null?void 0:h.addEventListener)==null||m.call(h,"hidden.bs.toast",v),(g=(f=a.value)==null?void 0:f.addEventListener)==null||g.call(f,"show.bs.toast",p),(T=(w=a.value)==null?void 0:w.addEventListener)==null||T.call(w,"shown.bs.toast",y),o("create",u.value,a.value,i)},X=()=>{var e,l;(l=(e=u.value)==null?void 0:e.show)==null||l.call(e)},V=()=>{var e,l;(l=(e=u.value)==null?void 0:e.hide)==null||l.call(e)},_=()=>{var e,l;(l=(e=u.value)==null?void 0:e.isShown)==null||l.call(e)},K=()=>{var e,l,h,m,f,g,w,T;(l=(e=a.value)==null?void 0:e.removeEventListener)==null||l.call(e,"hide.bs.toast",c),(m=(h=a.value)==null?void 0:h.removeEventListener)==null||m.call(h,"hidden.bs.toast",v),(g=(f=a.value)==null?void 0:f.removeEventListener)==null||g.call(f,"show.bs.toast",p),(T=(w=a.value)==null?void 0:w.removeEventListener)==null||T.call(w,"shown.bs.toast",y)},ee=()=>{if(s.autohide&&s.color&&s.delay>0){const e=setInterval(()=>{n.value>=s.delay?clearInterval(e):n.value+=50},50)}};return R(),t({open:X,close:V,isShown:_,dispose:K}),oe(()=>{H()}),re(()=>{K()}),(e,l)=>(E(),F(le,{to:`#${r.value}`},[M("div",ie({ref_key:"toastRef",ref:a,class:["toast overlow-hidden",{[`text-bg-${e.color}`]:e.color!==null,"border-0":e.color!==null}],role:"alert","aria-live":"assertive","aria-atomic":"true"},e.$attrs),[e.title||e.$slots.title?(E(),D("div",we,[O(e.$slots,"titleStart"),O(e.$slots,"title",{},()=>[M("strong",be,pe(e.title),1)]),O(e.$slots,"titleEnd"),ne(se,{"data-bs-dismiss":"toast"})])):P("",!0),e.$slots.default?(E(),D("div",ke,[O(e.$slots,"default")])):P("",!0),e.autohide&&e.color&&e.delay>0?(E(),F(ge,{key:2,value:n.value,height:"3px",min:0,max:e.delay,color:e.color,striped:"",animated:"",class:"rounded-0 border-top",onDone:V},null,8,["value","max","color"])):P("",!0)],16)],8,["to"]))}}),Se=Z($e,[["__file","Toast.vue"]]),Ce=s=>(t={},o={})=>new Promise(i=>{const a=document.createElement("div");document.body.appendChild(a);const u=fe({components:{component:s},data(){return{active:{type:Boolean,default:()=>!0}}},mounted(){Object.keys(this.$refs.wrapper).forEach(r=>{this[r]=this.$refs.wrapper[r]})},render(){if(this.active)return Y(s,{...t,controller:this,ref:"wrapper"},o)},methods:{removeController(){this.active=!1,this.$nextTick(()=>{var r,c;u.unmount(),(c=(r=a==null?void 0:a.parentElement)==null?void 0:r.removeChild)==null||c.call(r,a)})}}},{}),n=u.mount(a);de(()=>{i(n)})}),Te=Ce(Se),q=async(s,t,o=null)=>{(await Te({position:"bottom-end",color:o,title:s,autohide:!0,delay:5e3},{...t?{default:()=>Y("p",{innerHTML:t,class:"m-0"},[])}:{}})).open()},je=async(s,t)=>await q(s,t,"success"),Ae=async(s,t)=>await q(s,t,"danger"),Le=he.ajax;function Ee(s){var o,i;return`${(i=(o=N())==null?void 0:o.url)==null?void 0:i.api}${s}`}function B(s,t){return new Promise((o,i)=>{const a={};a.type=t.type,a.cache=!1,["get","delete"].includes(t.type)?a.data=t.params??{}:["post","put"].includes(t.type)&&(a.data=t.data??{}),a.dataType=t.dataType??"json",a.headers={accept:t.contentType??"application/json"},t.skipAuthorization&&(a.headers["skip-authorization"]="on"),t.track&&(a.headers.track="on"),a.url=Ee(s),a.beforeSend=n=>{var c;const r=(c=N())==null?void 0:c.token;r&&n.setRequestHeader("Authorization",`Bearer ${r}`),window.sessionId&&n.setRequestHeader("session-id",window.sessionId)},a.complete=(n,r)=>{["success","nocontent"].includes(r.toLowerCase())&&o({data:n.responseJSON,header:n.getResponseHeader})},a.error=(n,r)=>{var c,v;if([401].includes(n.status))t.noLogout||(document.location.href=`${(v=(c=N())==null?void 0:c.url)==null?void 0:v.self}/Logout`);else if([200,204].includes(n.status))o({data:n.responseText,header:n.getResponseHeader});else{let p="";if(n.responseJSON&&n.responseJSON.title)p=n.responseJSON.title;else if(n.status===0)p="Not connect, Verify Network.";else if(n.status==404)p="Requested page not found. [404]";else if(n.status==500){p="Internal Server Error [500].";try{const y=JSON.parse(n.statusText);y.hasOwnProperty("title")&&(r=y.title,y.hasOwnProperty("details")&&(p=Object.keys(y.details).map(J=>`${y.details[J].join(", ")}`).join(", ")))}catch{}}else r==="parsererror"?p="Requested JSON parse failed.":r==="timeout"?p="Time out error.":r==="abort"?p="Ajax request aborted.":p="Uncaught Error : "+n.responseText;t.silent||Ne({msg:p,xhr:n,exception:r}),i({msg:p,xhr:n,exception:r})}};const u=Le(a);t.request&&typeof t.request=="function"&&t.request(u)})}var b,k,$,S;class Oe{constructor(){A(this,b,!1);A(this,k,!1);A(this,$,!1);A(this,S,!1)}silent(){return L(this,b,!0),this}skipAuthorization(){return L(this,k,!0),this}track(){return L(this,$,!0),this}noLogout(){return L(this,S,!0),this}get(t,o={}){return B(t,{...o,type:"get",silent:d(this,b),skipAuthorization:d(this,k),track:d(this,$),noLogout:d(this,S)})}post(t,o){return B(t,{type:"post",data:o,silent:d(this,b),skipAuthorization:d(this,k),track:d(this,$),noLogout:d(this,S)})}put(t,o){return B(t,{type:"put",data:o,silent:d(this,b),skipAuthorization:d(this,k),track:d(this,$),noLogout:d(this,S)})}delete(t){return B(t,{type:"delete",silent:d(this,b),skipAuthorization:d(this,k),track:d(this,$),noLogout:d(this,S)})}}b=new WeakMap,k=new WeakMap,$=new WeakMap,S=new WeakMap;function xe(){return new Oe}function Ne(s){var u,n,r,c;const{msg:t,xhr:o,exception:i}=s;let a=`<p>${t}</p>`;if(((u=N())==null?void 0:u.env)==="dev"){(n=o.responseJSON)!=null&&n.message&&(a+=`<p>${(r=o.responseJSON)==null?void 0:r.message}</p>`);let v=[];if((c=o.responseJSON)!=null&&c.details)for(const p in o.responseJSON.details)v=[...v,...o.responseJSON.details[p]];v.length>0&&(a+=`<ul><li>${v.join("</li><li>")}</li></ul>`)}Ae(i.toUpperCase(),a)}export{Se as T,xe as a,Ce as c,Ae as d,N as m,je as s,Ke as t};
//# sourceMappingURL=api.js.map
